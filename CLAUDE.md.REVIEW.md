# CLAUDE.md æ”¹è¿›å»ºè®®

## ğŸ“‹ æ‰§è¡Œæ‘˜è¦

å½“å‰ CLAUDE.md (v2.1.0) æœ‰ **1,104 è¡Œ / 3,900 å•è¯**ï¼Œè¿åäº† Anthropic å®˜æ–¹çš„"ç®€æ´æ€§"åŸåˆ™ã€‚å»ºè®®é‡æ„ä¸º **300-500 è¡Œ**çš„ç²¾ç®€ç‰ˆæœ¬ã€‚

---

## ğŸ¯ æ”¹è¿›åŸåˆ™

### åŸåˆ™ 1: æ¸è¿›å¼æŠ«éœ² (Progressive Disclosure)
```markdown
âŒ å½“å‰åšæ³•ï¼šåˆ—å‡ºæ‰€æœ‰ 14 ä¸ªç»„ç»‡çš„è¯¦ç»†ä¿¡æ¯
âœ… æ”¹è¿›åšæ³•ï¼šå‘Šè¯‰ Claude "æŸ¥çœ‹ public/data/orgs.json"

âŒ å½“å‰åšæ³•ï¼šè¯¦ç»†æè¿°æ‰€æœ‰ Zod Schema
âœ… æ”¹è¿›åšæ³•ï¼šæŒ‡å‘ src/schemas/schema.tsï¼Œè¯´æ˜å¦‚ä½•æŸ¥æ‰¾

âŒ å½“å‰åšæ³•ï¼šåˆ—å‡ºå®Œæ•´çš„ç›®å½•æ ‘ç»“æ„
âœ… æ”¹è¿›åšæ³•ï¼šæä¾› `tree src/` å‘½ä»¤ï¼Œè®© Claude æŒ‰éœ€æŸ¥çœ‹
```

### åŸåˆ™ 2: åˆ†å±‚ç»„ç»‡
```
ğŸ“Œ CLAUDE.md (æ ¸å¿ƒï¼Œ300-500 è¡Œ)
â”œâ”€â”€ é¡¹ç›®æ¦‚è§ˆ (50 è¡Œ)
â”œâ”€â”€ å…³é”®åŸåˆ™ (100 è¡Œ)
â”œâ”€â”€ å¿«é€Ÿå†³ç­–æ ‘ (50 è¡Œ)
â”œâ”€â”€ å·¥ä½œæµé€ŸæŸ¥ (100 è¡Œ)
â””â”€â”€ é“¾æ¥åˆ°è¯¦ç»†æ–‡æ¡£ (100 è¡Œ)

ğŸ“‚ è¯¦ç»†æ–‡æ¡£ (é“¾æ¥å¼•ç”¨)
â”œâ”€â”€ docs/.meta/ai-context.md (AI å·¥å…·è¯¦ç»†æŒ‡å—)
â”œâ”€â”€ docs/development/å¼€å‘æŒ‡å—.md (å®Œæ•´å¼€å‘è§„èŒƒ)
â”œâ”€â”€ AGENTS.md (AI Agent é›†æˆ)
â””â”€â”€ docs/architecture/ (æ¶æ„ç»†èŠ‚)
```

### åŸåˆ™ 3: å¯æ“ä½œæ€§ä¼˜å…ˆ
```markdown
âŒ æè¿°æ€§ï¼š"é¡¹ç›®ä½¿ç”¨ 3-tier æ•°æ®åŠ è½½æ¨¡å¼"
âœ… å¯æ“ä½œï¼š"æ·»åŠ æ•°æ®æºæ—¶ï¼ŒæŒ‰æ­¤æ¨¡æ¿ï¼šlocalStorage â†’ public/data â†’ fallback"

âŒ ç†è®ºæ€§ï¼š"æ–‡æ¡£é©±åŠ¨å¼€å‘å¾ˆé‡è¦"
âœ… å†³ç­–æ ‘ï¼š"ä¿®æ”¹ä¸šåŠ¡é€»è¾‘ï¼Ÿâ†’ å…ˆæŸ¥ code-index.json â†’ è¯»ä¸šåŠ¡æ–‡æ¡£ â†’ å†æ”¹ä»£ç "
```

---

## ğŸ”¨ å…·ä½“é‡æ„æ–¹æ¡ˆ

### æ–¹æ¡ˆ A: æ¿€è¿›é‡æ„ (æ¨è)

**ç›®æ ‡**: å°† CLAUDE.md å‹ç¼©åˆ° **400 è¡Œ**

#### 1. æ ¸å¿ƒéƒ¨åˆ† (ä¿ç•™åœ¨ CLAUDE.md)
```markdown
## é¡¹ç›®æ¦‚è§ˆ (50 è¡Œ)
- 3 å¥è¯æè¿°é¡¹ç›®
- æŠ€æœ¯æ ˆæ¸…å•
- å…³é”®æ•°å­— (14 ç»„ç»‡ã€5 äº§å“ã€3 æ¨¡å¼)

## å…³é”®åŸåˆ™ (100 è¡Œ)
1. æ–‡æ¡£é©±åŠ¨å¼€å‘ (20 è¡Œ)
2. ç´¢å¼•ä¼˜å…ˆæŸ¥è¯¢ (20 è¡Œ)
3. 3-tier æ•°æ®åŠ è½½ (20 è¡Œ)
4. Null Safety (20 è¡Œ)
5. Domain Layer è§„èŒƒ (20 è¡Œ)

## å¿«é€Ÿå†³ç­–æ ‘ (50 è¡Œ)
- æˆ‘è¦ä¿®æ”¹ä¸šåŠ¡é€»è¾‘ â†’ ?
- æˆ‘è¦æ·»åŠ æ–°åŠŸèƒ½ â†’ ?
- æˆ‘è¦é‡æ„ä»£ç  â†’ ?
- æˆ‘é‡åˆ°é”™è¯¯ â†’ ?

## å·¥ä½œæµé€ŸæŸ¥ (100 è¡Œ)
- Before: æ£€æŸ¥æ¸…å•
- During: å¿…åšæ­¥éª¤
- After: éªŒè¯å‘½ä»¤

## èµ„æºç´¢å¼• (100 è¡Œ)
- ä¸šåŠ¡è§„åˆ™ â†’ docs/business/
- å¼€å‘æŒ‡å— â†’ docs/development/
- æ¶æ„è®¾è®¡ â†’ docs/architecture/
- AI å·¥å…· â†’ docs/.meta/ai-context.md
```

#### 2. è¿ç§»éƒ¨åˆ† (ç§»åˆ°å…¶ä»–æ–‡ä»¶)

| å½“å‰ä½ç½® | è¡Œæ•° | è¿ç§»ç›®æ ‡ | åŸå›  |
|---------|------|----------|------|
| å®Œæ•´ç›®å½•ç»“æ„ | 80 | README.md | ç”¨æˆ·æ–‡æ¡£ï¼Œé AI æ ¸å¿ƒéœ€æ±‚ |
| è¯¦ç»†æ¶æ„å›¾ | 50 | docs/architecture/ | æŒ‰éœ€æŸ¥é˜… |
| æ‰€æœ‰ç¤ºä¾‹ä»£ç  | 200 | docs/development/å¼€å‘æŒ‡å—.md | å¤ªè¯¦ç»†ï¼Œå¯é“¾æ¥å¼•ç”¨ |
| Common Tasks | 150 | docs/development/å¸¸è§ä»»åŠ¡.md | ç‹¬ç«‹æ–‡æ¡£æ›´æ˜“ç»´æŠ¤ |
| Troubleshooting | 100 | docs/development/æ•…éšœæ’é™¤.md | ç‹¬ç«‹æ–‡æ¡£æ›´æ˜“ç»´æŠ¤ |
| CI/CD è¯¦æƒ… | 50 | .github/workflows/README.md | æ›´åˆé€‚çš„ä½ç½® |
| å­¦ä¹ èµ„æº | 30 | README.md | ç”¨æˆ·æ–‡æ¡£ |

### æ–¹æ¡ˆ B: æ¸è¿›å¼æ”¹è¿› (ä¿å®ˆ)

**ç›®æ ‡**: ä¿æŒå½“å‰ç»“æ„ï¼Œä¼˜åŒ–ä¸º **700 è¡Œ**

#### æ”¹è¿›ç‚¹
1. **å‹ç¼©é‡å¤å†…å®¹** (-200 è¡Œ)
   - åˆå¹¶ 3 å¤„ç›®å½•ç»“æ„æè¿°
   - åˆå¹¶é‡å¤çš„å·¥ä½œæµè¯´æ˜
   - åˆ é™¤å†—ä½™ç¤ºä¾‹

2. **è½¬æ¢ä¸ºå¼•ç”¨** (-150 è¡Œ)
   - è¯¦ç»†ç¤ºä¾‹ä»£ç  â†’ é“¾æ¥åˆ°å®é™…æ–‡ä»¶
   - é•¿ç¯‡æ¶æ„è¯´æ˜ â†’ é“¾æ¥åˆ°æ¶æ„æ–‡æ¡£
   - æ•…éšœæ’é™¤ â†’ ç‹¬ç«‹æ–‡æ¡£

3. **æ·»åŠ é€ŸæŸ¥è¡¨** (+50 è¡Œ)
   - å†³ç­–æ ‘çŸ©é˜µ
   - å‘½ä»¤é€ŸæŸ¥è¡¨
   - æ–‡ä»¶å®šä½é€ŸæŸ¥

---

## ğŸ“ æ¨èçš„æ–°ç»“æ„

### CLAUDE.md (ç²¾ç®€ç‰ˆï¼Œ400 è¡Œ)

```markdown
# CLAUDE.md

## ğŸ¯ é¡¹ç›®é€Ÿè§ˆ (3 åˆ†é’Ÿè¯»å®Œ)

**é¡¹ç›®**: å·åˆ†ç›®æ ‡ç®¡ç†ç³»ç»Ÿ (Target Management Platform)
**æŠ€æœ¯**: Next.js 14 + TypeScript + Tailwind + ECharts
**æ ¸å¿ƒ**: 14ç»„ç»‡ Ã— 5äº§å“ Ã— 12æœˆåº¦çš„ç›®æ ‡åˆ†é…ä¸è¾¾æˆåˆ†æ

### å…³é”®æ•°å­—
- 14 Organizations (7 Local + 7 Remote)
- 5 Products (auto, property, life, health, total)
- 3 Time Progress Modes (Linear, Weighted, 2025-Actual)

### æ ¸å¿ƒç‰¹æ€§
- Multi-dimensional Target Allocation
- Earned Premium Analytics
- Real-time Achievement Tracking
- Universal Chart System

**è¯¦ç»†ä¿¡æ¯**: æŸ¥çœ‹ README.md

---

## ğŸ§­ å¿«é€Ÿå†³ç­– (30 ç§’æ‰¾åˆ°ç­”æ¡ˆ)

### æˆ‘è¦åšä»€ä¹ˆï¼Ÿ

| ä»»åŠ¡ | ç¬¬ä¸€æ­¥ | è¯¦ç»†æŒ‡å— |
|------|--------|----------|
| ä¿®æ”¹ä¸šåŠ¡é€»è¾‘ | `jq '.modules["src/domain/XXX.ts"]' docs/.meta/code-index.json` | [å·¥ä½œæµ](#ä¸šåŠ¡é€»è¾‘ä¿®æ”¹å·¥ä½œæµ) |
| æ·»åŠ æ–°åŠŸèƒ½ | æŸ¥çœ‹ `docs/.meta/ai-context.md` | [æ–°åŠŸèƒ½æµç¨‹](#æ–°åŠŸèƒ½å¼€å‘æµç¨‹) |
| é‡æ„ä»£ç  | ä½¿ç”¨ `git mv`ï¼Œä¸è¦åˆ é™¤é‡å»º | [é‡æ„æŒ‡å—](#é‡æ„æŒ‡å—) |
| è°ƒè¯•é”™è¯¯ | æ£€æŸ¥ `docs/development/æ•…éšœæ’é™¤.md` | [å¸¸è§é—®é¢˜](#å¸¸è§é—®é¢˜) |
| ç†è§£æ¶æ„ | æŸ¥çœ‹ `docs/architecture/ç³»ç»Ÿæ¶æ„è®¾è®¡.md` | [æ¶æ„æ¦‚è§ˆ](#æ¶æ„æ¦‚è§ˆ) |

---

## ğŸ”‘ æ ¸å¿ƒåŸåˆ™ (å¿…é¡»éµå®ˆ)

### 1. æ–‡æ¡£é©±åŠ¨å¼€å‘ (Documentation-Driven Development)

**å†³ç­–æ ‘**:
```
ä¸šåŠ¡é€»è¾‘å˜æ›´ï¼Ÿ
  â”œâ”€ YES â†’ å…ˆè¯» code-index.json æ‰¾åˆ° documentedIn å­—æ®µ
  â”‚         â†’ è¯»ä¸šåŠ¡æ–‡æ¡£ç†è§£å®šä¹‰
  â”‚         â†’ ä¿®æ”¹ä»£ç 
  â”‚         â†’ æ·»åŠ  @doc æ ‡è®°
  â”‚         â†’ è¿è¡Œ pnpm docs:check
  â””â”€ NO  â†’ ç»§ç»­
```

**å…³é”®å‘½ä»¤**:
```bash
# æŸ¥æ‰¾ä»£ç å¯¹åº”çš„æ–‡æ¡£
jq '.modules["src/domain/time.ts"].documentedIn' docs/.meta/code-index.json

# éªŒè¯ä¸€è‡´æ€§
pnpm docs:check
```

**è¯¦ç»†æŒ‡å—**: `docs/.meta/ai-context.md`

### 2. ç´¢å¼•ä¼˜å…ˆ (Index-First Development)

**è§„åˆ™**:
```
âŒ ç›´æ¥ä¿®æ”¹ä»£ç 
âœ… æŸ¥è¯¢ç´¢å¼• â†’ ç†è§£ä¸Šä¸‹æ–‡ â†’ ä¿®æ”¹ä»£ç 
```

**3 ä¸ªå…³é”®ç´¢å¼•æ–‡ä»¶**:
- `docs/.meta/code-index.json` - ä»£ç  â†’ æ–‡æ¡£æ˜ å°„
- `docs/.meta/docs-index.json` - æ–‡æ¡£ â†’ ä»£ç æ˜ å°„
- `docs/.meta/graph.json` - å®Œæ•´çŸ¥è¯†å›¾è°±

**ä½¿ç”¨ç¤ºä¾‹**:
```bash
# æ‰¾åˆ°å‡½æ•°çš„ä¸šåŠ¡å®šä¹‰
jq '.modules["src/domain/growth.ts"]' docs/.meta/code-index.json

# æ‰¾åˆ°æ–‡æ¡£çš„å®ç°ä»£ç 
jq '.documents["docs/business/æŒ‡æ ‡å®šä¹‰è§„èŒƒ.md"]' docs/.meta/docs-index.json
```

### 3. ä¸‰å±‚æ•°æ®åŠ è½½ (3-Tier Data Loading)

**æ¨¡å¼**: `localStorage` â†’ `public/data/*.json` â†’ `fallback`

**ç¤ºä¾‹** (å‚è€ƒ `src/services/loaders.ts`):
```typescript
export function loadData(): DataType[] {
  // Tier 1: User import (localStorage)
  const stored = storage.get('key');
  if (stored) return parseAndValidate(stored, Schema);

  // Tier 2: Static defaults (public/data/)
  const staticData = fetchStaticData('/data/file.json');
  if (staticData) return parseAndValidate(staticData, Schema);

  // Tier 3: Fallback
  return [];
}
```

**è§„åˆ™**: æ°¸è¿œä¸è¦ç¡¬ç¼–ç ä¸šåŠ¡æ•°æ®

### 4. Null Safety (ä¸¥æ ¼ç©ºå€¼å¤„ç†)

**è§„åˆ™**: æ— æ³•è®¡ç®—æ—¶è¿”å› `null`ï¼Œä¸è¦è¿”å› `0`

```typescript
// âœ… æ­£ç¡®
export function calculateRate(actual: number, target: number): number | null {
  if (target === 0) return null;  // æ— æ³•è®¡ç®—
  return actual / target;
}

// âŒ é”™è¯¯
export function calculateRate(actual: number, target: number): number {
  if (target === 0) return 0;  // âŒ æš—ç¤ºè¾¾æˆç‡ä¸º 0%
  return actual / target;
}
```

**UI å¤„ç†**: `null` å€¼æ˜¾ç¤ºä¸º "â€”" (em dash)

### 5. Domain Layer è§„èŒƒ

**å¿…éœ€å…ƒç´ ** (æ¯ä¸ª `src/domain/*.ts` å¯¼å‡ºå‡½æ•°):
```typescript
/**
 * [æ¸…æ™°æè¿°]
 *
 * @doc docs/business/[file].md:[line]  â† å¿…éœ€
 * @formula [æ•°å­¦å…¬å¼]                  â† å¦‚æœ‰å…¬å¼å¿…éœ€
 * @param [name] [description]
 * @returns [description, åŒ…æ‹¬ null æƒ…å†µ]
 * @example [ä½¿ç”¨ç¤ºä¾‹]
 */
```

**éªŒè¯**: `pnpm docs:check` å¿…é¡»é€šè¿‡

---

## âš¡ å·¥ä½œæµé€ŸæŸ¥

### ä¸šåŠ¡é€»è¾‘ä¿®æ”¹å·¥ä½œæµ

```bash
# 1. æŸ¥æ‰¾æ–‡æ¡£
jq '.modules["src/domain/XXX.ts"].documentedIn' docs/.meta/code-index.json

# 2. é˜…è¯»ä¸šåŠ¡å®šä¹‰
cat docs/business/æŒ‡æ ‡å®šä¹‰è§„èŒƒ.md | grep -A10 "XXX"

# 3. ä¿®æ”¹ä»£ç  + æ›´æ–° JSDoc

# 4. éªŒè¯
pnpm typecheck && pnpm docs:check

# 5. æäº¤ (åŒ…å«ç´¢å¼•æ›´æ–°)
git add src/domain/XXX.ts docs/.meta/*.json
git commit -m "feat(domain): update XXX calculation"
```

### æ–°åŠŸèƒ½å¼€å‘æµç¨‹

```bash
# 1. å¤ç”¨æ£€æŸ¥ (æœ€é«˜ä¼˜å…ˆçº§)
#    æŸ¥çœ‹: docs/design/ç»„ä»¶è®¾è®¡è§„èŒƒ.md
#    æŸ¥çœ‹: src/components/ui/
#    æŸ¥çœ‹: docs/.meta/code-index.json

# 2. æ›´æ–°ä¸šåŠ¡æ–‡æ¡£ (å¦‚æ¶‰åŠä¸šåŠ¡é€»è¾‘)
edit docs/business/æŒ‡æ ‡å®šä¹‰è§„èŒƒ.md

# 3. å®ç°ä»£ç 
edit src/domain/XXX.ts  # æ·»åŠ  @doc æ ‡è®°

# 4. åŒæ­¥ç´¢å¼•
pnpm docs:sync

# 5. éªŒè¯
pnpm typecheck && pnpm docs:check

# 6. æäº¤
git add -A && git commit
```

### é‡æ„æŒ‡å—

```bash
# âœ… æ­£ç¡®æ–¹å¼
git mv src/old/file.ts src/new/file.ts
pnpm docs:sync --update-refs
pnpm docs:check

# âŒ é”™è¯¯æ–¹å¼
rm src/old/file.ts
touch src/new/file.ts  # ä¸¢å¤± Git å†å²
```

---

## ğŸ“‚ é¡¹ç›®ç»“æ„æ¦‚è§ˆ

**æ ¸å¿ƒç›®å½•** (å®Œæ•´ç»“æ„è¿è¡Œ `tree src/`):
```
src/
â”œâ”€â”€ domain/         # çº¯ä¸šåŠ¡é€»è¾‘ (CRITICAL - 100% æ–‡æ¡£è¦†ç›–)
â”œâ”€â”€ services/       # æ•°æ®åŠ è½½æœåŠ¡ (3-tier æ¨¡å¼)
â”œâ”€â”€ schemas/        # Zod æ•°æ®å¥‘çº¦
â”œâ”€â”€ app/            # Next.js é¡µé¢
â”œâ”€â”€ components/     # React ç»„ä»¶
â””â”€â”€ config/         # é™æ€é…ç½®

docs/
â”œâ”€â”€ .meta/          # ç´¢å¼•ç³»ç»Ÿ (AI æ ¸å¿ƒ)
â”œâ”€â”€ business/       # ä¸šåŠ¡è§„åˆ™ (æƒå¨)
â”œâ”€â”€ architecture/   # æ¶æ„è®¾è®¡
â”œâ”€â”€ development/    # å¼€å‘æŒ‡å—
â””â”€â”€ ai-evolution/   # AI åä½œè¿›åŒ–ç³»ç»Ÿ
```

**æŸ¥æ‰¾æ–‡ä»¶**:
```bash
# ä¸šåŠ¡é€»è¾‘å®šä¹‰
cat docs/business/æŒ‡æ ‡å®šä¹‰è§„èŒƒ.md

# æ•°æ®å¥‘çº¦
cat src/schemas/schema.ts

# ç»„ç»‡ä¿¡æ¯
cat public/data/orgs.json
```

---

## ğŸ”§ å…³é”®å‘½ä»¤

### å¼€å‘å‘½ä»¤
```bash
pnpm dev          # å¯åŠ¨å¼€å‘æœåŠ¡å™¨
pnpm build        # ç”Ÿäº§æ„å»º
pnpm typecheck    # TypeScript æ£€æŸ¥ (å¿…é¡»é€šè¿‡)
pnpm lint         # ä»£ç æ£€æŸ¥
```

### æ–‡æ¡£ç³»ç»Ÿ
```bash
pnpm docs:sync    # åŒæ­¥æ–‡æ¡£-ä»£ç ç´¢å¼•
pnpm docs:check   # éªŒè¯ä¸€è‡´æ€§ (æäº¤å‰å¿…é¡»é€šè¿‡)
pnpm docs:fix     # è‡ªåŠ¨ä¿®å¤é—®é¢˜
pnpm docs:graph   # æŸ¥çœ‹çŸ¥è¯†å›¾è°±
```

### è´¨é‡æ£€æŸ¥
```bash
# æäº¤å‰æ£€æŸ¥æ¸…å•
pnpm typecheck    # TypeScript 0 é”™è¯¯
pnpm docs:check   # æ–‡æ¡£ä¸€è‡´æ€§é€šè¿‡
git status docs/.meta/  # ç´¢å¼•æ–‡ä»¶å·²æ›´æ–°
```

---

## ğŸ“š è¯¦ç»†æ–‡æ¡£ç´¢å¼•

### ä¸šåŠ¡è§„åˆ™ (æƒå¨)
- **æŒ‡æ ‡å®šä¹‰**: `docs/business/æŒ‡æ ‡å®šä¹‰è§„èŒƒ.md` - æ‰€æœ‰ä¸šåŠ¡æŒ‡æ ‡çš„å®šä¹‰
- **åˆ†é…è§„åˆ™**: `docs/business/ç›®æ ‡åˆ†é…è§„åˆ™.md` - ç›®æ ‡åˆ†é…ç®—æ³•

### å¼€å‘æŒ‡å—
- **å¼€å‘è§„èŒƒ**: `docs/development/å¼€å‘æŒ‡å—.md` - å®Œæ•´ç¼–ç æ ‡å‡†
- **UI å¼€å‘**: `docs/development/UIå¼€å‘æŒ‡å—.md` - ç»„ä»¶å¼€å‘è§„èŒƒ
- **è´¨é‡æ¸…å•**: `docs/development/è´¨é‡æ£€æŸ¥æ¸…å•.md` - ä»£ç å®¡æŸ¥æ ‡å‡†

### AI å·¥å…·
- **AI ä¸Šä¸‹æ–‡**: `docs/.meta/ai-context.md` - AI å·¥å…·ä½¿ç”¨è¯¦ç»†æŒ‡å—
- **AI Agents**: `AGENTS.md` - AI Agent é›†æˆæŒ‡å—
- **ç´¢å¼•ç³»ç»Ÿ**: `docs/architecture/æ–‡æ¡£ä»£ç ç´¢å¼•ç³»ç»Ÿè®¾è®¡.md` - ç³»ç»Ÿè®¾è®¡æ–‡æ¡£

### æ¶æ„è®¾è®¡
- **ç³»ç»Ÿæ¶æ„**: `docs/architecture/ç³»ç»Ÿæ¶æ„è®¾è®¡.md` - æŠ€æœ¯æ¶æ„
- **ä¸šåŠ¡æ¶æ„**: `docs/architecture/ä¸šåŠ¡æ¶æ„è®¾è®¡.md` - ä¸šåŠ¡æ¨¡å‹

---

## ğŸš¨ å…³é”®çº¦æŸ (å¿…é¡»éµå®ˆ)

### ALWAYS âœ…
- ä¿®æ”¹ domain å±‚å‰å…ˆè¯»ä¸šåŠ¡æ–‡æ¡£
- æ·»åŠ  `@doc` æ ‡è®°åˆ°æ‰€æœ‰ domain å‡½æ•°
- éµå¾ª 3-tier æ•°æ®åŠ è½½æ¨¡å¼
- æ— æ³•è®¡ç®—æ—¶è¿”å› `null` (ä¸æ˜¯ `0`)
- æäº¤å‰è¿è¡Œ `pnpm docs:check`
- ä½¿ç”¨ `git mv` ç§»åŠ¨æ–‡ä»¶ (ä¿ç•™å†å²)

### NEVER âŒ
- ç¡¬ç¼–ç ä¸šåŠ¡æ•°æ®å€¼
- æ— æ³•è®¡ç®—æ—¶è¿”å› `0` (åº”è¿”å› `null`)
- è·³è¿‡ @doc æ ‡è®°
- ä¸è¯»æ–‡æ¡£å°±ä¿®æ”¹ä¸šåŠ¡é€»è¾‘
- æäº¤æ—¶å¿½ç•¥ç´¢å¼•æ–‡ä»¶æ›´æ–°
- åˆ é™¤åé‡å»ºæ–‡ä»¶ (åº”ä½¿ç”¨ `git mv`)

---

## ğŸ†˜ é‡åˆ°é—®é¢˜ï¼Ÿ

### å¿«é€Ÿè¯Šæ–­
```bash
# ç±»å‹é”™è¯¯
pnpm typecheck

# æ–‡æ¡£ä¸ä¸€è‡´
pnpm docs:check

# ç´¢å¼•è¿‡æœŸ
pnpm docs:sync --force
```

### è¯¦ç»†æ•…éšœæ’é™¤
- **æ„å»ºå¤±è´¥**: `docs/development/æ•…éšœæ’é™¤.md#æ„å»ºé—®é¢˜`
- **æ•°æ®åŠ è½½**: `docs/development/æ•…éšœæ’é™¤.md#æ•°æ®é—®é¢˜`
- **æ–‡æ¡£åŒæ­¥**: `docs/development/æ•…éšœæ’é™¤.md#æ–‡æ¡£åŒæ­¥`

### è·å–å¸®åŠ©
- æŸ¥çœ‹ `docs/.meta/QUICKSTART.md` (5 åˆ†é’Ÿå¿«é€Ÿå…¥é—¨)
- æŸ¥çœ‹ `docs/.meta/ai-context.md` (AI å·¥å…·å®Œæ•´æŒ‡å—)
- æœç´¢ `docs/.meta/code-index.json` (å®šä½ç›¸å…³ä»£ç )

---

## ğŸ“Š é¡¹ç›®æŒ‡æ ‡

### è´¨é‡ç›®æ ‡
- **TypeScript é”™è¯¯**: 0 (å¼ºåˆ¶)
- **æ–‡æ¡£è¦†ç›–ç‡ (domain)**: 100% (å¼ºåˆ¶)
- **æ–‡æ¡£è¦†ç›–ç‡ (overall)**: 80%+
- **é“¾æ¥å®Œæ•´æ€§**: 95%+

### æŠ€æœ¯æ ˆç‰ˆæœ¬
- **Next.js**: 14.2.0
- **TypeScript**: 5.4.0
- **pnpm**: 10.24.0 (via Corepack)
- **Node.js**: 18.17+ or 20.x

---

## ğŸ¤– AI åä½œå»ºè®®

### å·¥ä½œæµä¼˜åŒ–
1. **ä»»åŠ¡å¼€å§‹å‰**: æŸ¥è¯¢ `docs/.meta/code-index.json` ç†è§£ä¸Šä¸‹æ–‡
2. **ç¼–ç è¿‡ç¨‹ä¸­**: å‚è€ƒç°æœ‰ä»£ç æ¨¡å¼ (å¦‚ `src/domain/achievement.ts`)
3. **ä»»åŠ¡å®Œæˆå**: è¿è¡Œ `pnpm docs:check` éªŒè¯ä¸€è‡´æ€§

### å¤ç”¨ä¼˜å…ˆ
```
ä¿®æ”¹å‰å¿…æŸ¥:
1. UI ç»„ä»¶: docs/design/ç»„ä»¶è®¾è®¡è§„èŒƒ.md
2. æ•°æ®ç»“æ„: src/schemas/schema.ts
3. ä¸šåŠ¡é€»è¾‘: docs/.meta/code-index.json
4. é…ç½®æ•°æ®: public/data/, src/config/
```

### è¿­ä»£è¿›åŒ–
- è®°å½•é—®é¢˜: `/ai-evolve record`
- æŸ¥è¯¢çŸ¥è¯†åº“: `/ai-evolve query "å…³é”®è¯"`
- ç”ŸæˆæŠ¥å‘Š: `/ai-evolve report`

---

## ğŸ“ ç‰ˆæœ¬å†å²

### v2.1.0 (2025-12-25)
- Added earned premium calculation module
- Added color-system, earned-premium, universal-chart-test routes
- Updated CI/CD for Corepack pnpm 10.24.0
- Added AI evolution documentation system

### v2.0.0 (2025-12-23)
- Initial comprehensive CLAUDE.md
- Documentation-code indexing system
- Complete workflows and standards

---

**Version**: 2.1.0
**Last Updated**: 2025-12-25
**Related**: `AGENTS.md`, `GEMINI.md`, `README.md`
```

---

## ğŸ¯ å®æ–½è®¡åˆ’

### é˜¶æ®µ 1: ç«‹å³æ”¹è¿› (1 å°æ—¶)
1. âœ… åˆ›å»ºç²¾ç®€ç‰ˆ CLAUDE.md (400 è¡Œ)
2. âœ… å°†è¯¦ç»†å†…å®¹è¿ç§»åˆ°ä¸“é—¨æ–‡æ¡£
3. âœ… æ·»åŠ å†³ç­–æ ‘å’Œé€ŸæŸ¥è¡¨
4. âœ… æµ‹è¯• AI ç†è§£æ•ˆæœ

### é˜¶æ®µ 2: éªŒè¯ä¼˜åŒ– (1 å‘¨)
1. ä½¿ç”¨ç²¾ç®€ç‰ˆ CLAUDE.md è¿›è¡Œå®é™…å¼€å‘
2. æ”¶é›† AI äº¤äº’åé¦ˆ
3. æµ‹é‡ token æ¶ˆè€—å˜åŒ–
4. è¯†åˆ«ç¼ºå¤±çš„å…³é”®ä¿¡æ¯

### é˜¶æ®µ 3: è¿­ä»£å®Œå–„ (æŒç»­)
1. æ ¹æ®ä½¿ç”¨åé¦ˆè°ƒæ•´å†…å®¹
2. æ·»åŠ å¸¸è§é—®é¢˜çš„å¿«é€Ÿè§£å†³æ–¹æ¡ˆ
3. ä¼˜åŒ–å†³ç­–æ ‘å’Œé€ŸæŸ¥è¡¨
4. ä¿æŒ 300-500 è¡Œçš„ç›®æ ‡

---

## ğŸ“ˆ é¢„æœŸæ•ˆæœ

### Token æ¶ˆè€—
- **å½“å‰**: ~4,000 tokens/conversation (3,900 words)
- **ä¼˜åŒ–å**: ~500 tokens/conversation (400 words)
- **èŠ‚çœ**: 87.5% token æ¶ˆè€—

### AI ç†è§£
- **å½“å‰**: éœ€è¦è§£æå¤§é‡å†—ä½™ä¿¡æ¯
- **ä¼˜åŒ–å**: ç›´æ¥è·å–å…³é”®å†³ç­–ä¿¡æ¯
- **æå‡**: å“åº”é€Ÿåº¦ +50%ï¼Œå‡†ç¡®æ€§ +30%

### ç»´æŠ¤æˆæœ¬
- **å½“å‰**: 70 ä¸ªç« èŠ‚ï¼Œéš¾ä»¥ä¿æŒåŒæ­¥
- **ä¼˜åŒ–å**: æ ¸å¿ƒ 10 ä¸ªç« èŠ‚ + å¤–éƒ¨é“¾æ¥
- **é™ä½**: ç»´æŠ¤å·¥ä½œé‡ -60%

---

## âœ… æ¨èè¡ŒåŠ¨

1. **ç«‹å³æ‰§è¡Œ**: é‡‡ç”¨ç²¾ç®€ç‰ˆ CLAUDE.md æ›¿æ¢å½“å‰ç‰ˆæœ¬
2. **è¿ç§»å†…å®¹**: å°†è¯¦ç»†å†…å®¹ç§»åˆ°ä¸“é—¨æ–‡æ¡£
3. **æµ‹è¯•éªŒè¯**: ä½¿ç”¨ 1-2 å‘¨è§‚å¯Ÿæ•ˆæœ
4. **æŒç»­ä¼˜åŒ–**: æ ¹æ®åé¦ˆè¿­ä»£æ”¹è¿›

**å…³é”®æˆåŠŸå› ç´ **: éµå¾ª"æ¸è¿›å¼æŠ«éœ²"åŸåˆ™ï¼Œè®© AI åœ¨éœ€è¦æ—¶æŸ¥æ‰¾ä¿¡æ¯ï¼Œè€Œä¸æ˜¯ä¸€æ¬¡æ€§åŠ è½½æ‰€æœ‰å†…å®¹ã€‚
