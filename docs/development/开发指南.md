# ğŸ’» å¼€å‘æŒ‡å—

> å·åˆ†ç›®æ ‡ç®¡ç†ç³»ç»Ÿçš„å¼€å‘è§„èŒƒã€æœ€ä½³å®è·µä¸æŠ€æœ¯æŒ‡å—  
**ç‰ˆæœ¬:** 2.0.0  
**æ›´æ–°æ—¶é—´:** 2025-12-23  
**æŠ€æœ¯æ ˆ**: Next.js 14 + TypeScript 5 + Tailwind CSS 3

---

## ğŸ“‘ å¼€å‘æ¦‚è§ˆ

- [å¼€å‘ç¯å¢ƒæ­å»º](#-å¼€å‘ç¯å¢ƒæ­å»º)
- [ä»£ç è§„èŒƒ](#-ä»£ç è§„èŒƒ)
- [é¡¹ç›®ç»“æ„](#-é¡¹ç›®ç»“æ„)
- [å¼€å‘æµç¨‹](#-å¼€å‘æµç¨‹)
- [è°ƒè¯•æŠ€å·§](#-è°ƒè¯•æŠ€å·§)

---

## ğŸ› ï¸ å¼€å‘ç¯å¢ƒæ­å»º

### ğŸ“‹ ç³»ç»Ÿè¦æ±‚

**ç¡¬ä»¶è¦æ±‚**
- CPU: Intel i5 æˆ– AMD Ryzen 5 ä»¥ä¸Š
- å†…å­˜: 16GB ä»¥ä¸Šï¼ˆæ¨è 32GBï¼‰
- å­˜å‚¨: SSD 256GB ä»¥ä¸Š
- æ˜¾ç¤ºå™¨: 1920x1080 åˆ†è¾¨ç‡ä»¥ä¸Š

**è½¯ä»¶è¦æ±‚**
- æ“ä½œç³»ç»Ÿ: macOS 12+ / Windows 10+ / Ubuntu 18.04+
- Node.js: 18.17.0 LTS æˆ– 20.5.0 LTS
- npm: 9.6.7+ æˆ– yarn: 1.22.19+
- Git: 2.40.0+
- VS Code: 1.80+ (æ¨èIDE)

### ğŸš€ å¿«é€Ÿå¼€å§‹

```bash
# 1. å…‹éš†é¡¹ç›®
git clone https://github.com/your-org/target-management.git
cd target-management

# 2. å®‰è£…ä¾èµ–
npm install

# 3. é…ç½®ç¯å¢ƒå˜é‡
cp .env.example .env.local
# ç¼–è¾‘ .env.local æ–‡ä»¶ï¼Œå¡«å…¥å¿…è¦é…ç½®

# 4. å¯åŠ¨å¼€å‘æœåŠ¡å™¨
npm run dev

# 5. è®¿é—®åº”ç”¨
# æµè§ˆå™¨æ‰“å¼€ http://localhost:3000
```

### ğŸ”§ ç¯å¢ƒé…ç½®

**ç¯å¢ƒå˜é‡é…ç½®**
```bash
# .env.local
# æ•°æ®åº“é…ç½®
DATABASE_URL="postgresql://user:password@localhost:5432/target_management"

# APIé…ç½®
NEXT_PUBLIC_API_BASE_URL="http://localhost:3000/api"
API_SECRET_KEY="your-secret-key"

# ç¬¬ä¸‰æ–¹æœåŠ¡
CHART_API_KEY="your-chart-api-key"
SENTRY_DSN="your-sentry-dsn"

# å¼€å‘é…ç½®
NODE_ENV="development"
NEXT_PUBLIC_DEBUG="true"
```

**VS Code æ¨èæ’ä»¶**
```json
{
  "recommendations": [
    "ms-vscode.vscode-typescript-next",
    "bradlc.vscode-tailwindcss",
    "esbenp.prettier-vscode",
    "dbaeumer.vscode-eslint",
    "ms-vscode.vscode-json",
    "formulahendry.auto-rename-tag",
    "christian-kohler.path-intellisense",
    "ms-vscode.vscode-jest"
  ]
}
```

**VS Code å·¥ä½œåŒºé…ç½®**
```json
// .vscode/settings.json
{
  "typescript.preferences.importModuleSpecifier": "relative",
  "editor.formatOnSave": true,
  "editor.defaultFormatter": "esbenp.prettier-vscode",
  "editor.codeActionsOnSave": {
    "source.fixAll.eslint": true
  },
  "emmet.includeLanguages": {
    "typescript": "html",
    "typescriptreact": "html"
  },
  "files.associations": {
    "*.css": "tailwindcss"
  }
}
```

---

## ğŸ“ ä»£ç è§„èŒƒ

### ğŸ”„ ç»„ä»¶å¤ç”¨ä¼˜å…ˆåŸåˆ™

> **æ ¸å¿ƒåŸåˆ™**: å¼€å‘æ–°åŠŸèƒ½å‰ï¼Œå¿…é¡»å…ˆæ£€æŸ¥æ˜¯å¦æœ‰å¯å¤ç”¨çš„ç»„ä»¶ã€æ•°æ®ã€æŒ‡æ ‡ç­‰ã€‚å¦‚æœæœ‰åˆ™ç›´æ¥ç”¨ï¼Œå¦‚æœæ²¡æœ‰å°±æ–°å»ºï¼Œç„¶åæ›´æ–°åˆ°æ–‡æ¡£ä¸­ï¼Œä¾¿äºåç»­å¤ç”¨ã€‚

#### æ£€æŸ¥æ¸…å•

å¼€å‘ä»»ä½•æ–°åŠŸèƒ½å‰ï¼ŒæŒ‰ä»¥ä¸‹é¡ºåºæ£€æŸ¥ï¼š

```bash
# 1. UI ç»„ä»¶æ£€æŸ¥
cat src/components/ui/index.ts                    # UI ç»„ä»¶ç´¢å¼•
cat docs/design/ç»„ä»¶è®¾è®¡è§„èŒƒ.md                    # ç»„ä»¶è®¾è®¡è§„èŒƒ

# 2. æ•°æ®ç»“æ„æ£€æŸ¥
cat src/schemas/types.ts                          # ç±»å‹å®šä¹‰
cat docs/business/æŒ‡æ ‡å®šä¹‰è§„èŒƒ.md                  # ä¸šåŠ¡æŒ‡æ ‡å®šä¹‰

# 3. ä¸šåŠ¡é€»è¾‘æ£€æŸ¥
cat docs/.meta/code-index.json | jq '.modules'   # ä»£ç ç´¢å¼•
ls src/domain/                                    # é¢†åŸŸé€»è¾‘
ls src/lib/                                       # å·¥å…·å‡½æ•°

# 4. é…ç½®æ•°æ®æ£€æŸ¥
ls public/data/                                   # é™æ€æ•°æ®
ls src/config/                                    # é…ç½®æ–‡ä»¶

# 5. è®¾è®¡æ¨¡å¼æ£€æŸ¥
cat docs/design/å…¨å±€è®¾è®¡è§„èŒƒ.md                    # è®¾è®¡è§„èŒƒ
cat docs/design/è®¾è®¡å®ç°æŒ‡å—.md                    # å®ç°æŒ‡å—
```

#### å†³ç­–æµç¨‹

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ æ¥æ”¶å¼€å‘ä»»åŠ¡     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ åˆ†æéœ€æ±‚         â”‚
â”‚ éœ€è¦ä»€ä¹ˆç»„ä»¶ï¼Ÿ   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ æ£€æŸ¥å¯å¤ç”¨èµ„æº   â”‚
â”‚ æŒ‰ä¼˜å…ˆçº§æœç´¢     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
    â”Œâ”€â”€â”€â”€â”´â”€â”€â”€â”€â”
    â”‚         â”‚
    â–¼         â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”
â”‚æ‰¾åˆ°  â”‚  â”‚æœªæ‰¾åˆ°â”‚
â””â”€â”€â”¬â”€â”€â”€â”˜  â””â”€â”€â”€â”¬â”€â”€â”˜
   â”‚          â”‚
   â–¼          â–¼
å¤ç”¨ç»„ä»¶    åˆ›å»ºæ–°ç»„ä»¶
è®°å½•ä½¿ç”¨    æ›´æ–°ç´¢å¼•
```

#### æ­£ç¡®ç¤ºä¾‹

```typescript
// âœ… æ­£ç¡®åšæ³•ï¼šå…ˆæ£€æŸ¥å¤ç”¨
// ä»»åŠ¡ï¼šæ·»åŠ æ’åºåŠŸèƒ½

// 1. æ£€æŸ¥ src/components/ui/index.ts
// å‘ç°ï¼šSortButtonGroup ç»„ä»¶å·²å­˜åœ¨

// 2. ç›´æ¥å¤ç”¨
import { SortButtonGroup, SortPresets } from '@/components/ui/SortButtonGroup';

// 3. è®°å½•ä½¿ç”¨åœºæ™¯ï¼ˆæ³¨é‡Šæˆ–æ–‡æ¡£ï¼‰
// ä½¿ç”¨ä½ç½®ï¼šsrc/app/orgs/[org_id]/OrgDetailClient.tsx:509

// âŒ é”™è¯¯åšæ³•ï¼šç›´æ¥åˆ›å»ºæ–°ç»„ä»¶
// æµªè´¹æ—¶é—´ï¼Œå¢åŠ ç»´æŠ¤æˆæœ¬ï¼Œä»£ç ä¸ä¸€è‡´
```

#### æ–°å»ºç»„ä»¶æµç¨‹

å¦‚æœç¡®è®¤éœ€è¦åˆ›å»ºæ–°ç»„ä»¶ï¼š

```bash
# 1. åˆ›å»ºç»„ä»¶
mkdir -p src/components/ui/YourComponent
touch src/components/ui/YourComponent/YourComponent.tsx
touch src/components/ui/YourComponent/YourComponent.types.ts
touch src/components/ui/YourComponent/index.ts

# 2. ç¼–å†™å®Œæ•´æ–‡æ¡£
# - JSDoc æ³¨é‡Š
# - ä½¿ç”¨ç¤ºä¾‹
# - Props è¯´æ˜

# 3. æ›´æ–°ç´¢å¼•
# æ·»åŠ åˆ° src/components/ui/index.ts
# æ·»åŠ åˆ° docs/design/ç»„ä»¶è®¾è®¡è§„èŒƒ.md
# åˆ›å»ºä½¿ç”¨ç¤ºä¾‹æ–‡æ¡£

# 4. åŒæ­¥æ–‡æ¡£ç´¢å¼•
pnpm docs:sync

# 5. éªŒè¯
pnpm typecheck
pnpm docs:check
```

#### ç»„ä»¶æ–‡æ¡£æ¨¡æ¿

```typescript
/**
 * ç»„ä»¶åç§°
 *
 * @description ç®€çŸ­æè¿°ç»„ä»¶ç”¨é€”
 * @module components/ui/YourComponent
 *
 * @features
 * - ç‰¹æ€§1
 * - ç‰¹æ€§2
 *
 * @example
 * ```tsx
 * <YourComponent
 *   prop1="value1"
 *   prop2={true}
 *   onChange={(val) => console.log(val)}
 * />
 * ```
 *
 * @see docs/features/YourComponentä½¿ç”¨æŒ‡å—.md - è¯¦ç»†ä½¿ç”¨æŒ‡å—
 * @see src/app/xxx/xxx.tsx - ä½¿ç”¨ç¤ºä¾‹
 */
```

#### å¤ç”¨ç‡ç›®æ ‡

```yaml
é¡¹ç›®å¤ç”¨ç‡ç›®æ ‡:
  UI ç»„ä»¶å¤ç”¨ç‡: > 80%
  ä¸šåŠ¡é€»è¾‘å¤ç”¨ç‡: > 70%
  ç±»å‹å®šä¹‰å¤ç”¨ç‡: > 90%
  è®¾è®¡æ¨¡å¼å¤ç”¨ç‡: > 85%

æ£€æŸ¥é¢‘ç‡:
  æ¯æ¬¡å¼€å‘æ–°åŠŸèƒ½å‰: å¿…é¡»æ£€æŸ¥
  ä»£ç å®¡æŸ¥æ—¶: éªŒè¯æ˜¯å¦å¤ç”¨
  æ¯å‘¨: å¤ç”¨ç‡ç»Ÿè®¡
```

### ğŸ¯ TypeScript è§„èŒƒ

### ğŸ¯ TypeScript è§„èŒƒ

**ç±»å‹å®šä¹‰è§„èŒƒ**
```typescript
// âœ… æ¨èåšæ³•
interface User {
  id: string;
  name: string;
  email: string;
  role: UserRole;
  createdAt: Date;
  updatedAt?: Date;
}

// ä½¿ç”¨è”åˆç±»å‹
type UserRole = 'admin' | 'user' | 'viewer';

// ä½¿ç”¨æ³›å‹
interface ApiResponse<T> {
  data: T;
  success: boolean;
  message?: string;
}

// ä½¿ç”¨å·¥å…·ç±»å‹
type CreateUserRequest = Omit<User, 'id' | 'createdAt' | 'updatedAt'>;
type UserDto = Pick<User, 'id' | 'name' | 'role'>;

// âŒ é¿å…åšæ³•
interface User {
  // ç¼ºå°‘ç±»å‹æ³¨è§£
  data: any;
  // ä½¿ç”¨å¯é€‰ç±»å‹è¿‡å¤š
  id?: string;
  name?: string;
}
```

**å‡½æ•°å®šä¹‰è§„èŒƒ**
```typescript
// âœ… æ¨èåšæ³•
/**
 * è®¡ç®—ç›®æ ‡è¾¾æˆç‡
 * @param actual å®é™…å€¼
 * @param target ç›®æ ‡å€¼
 * @returns è¾¾æˆç‡ç™¾åˆ†æ¯”
 */
function calculateAchievementRate(actual: number, target: number): number {
  if (target === 0) {
    throw new Error('Target value cannot be zero');
  }
  return Math.round((actual / target) * 100);
}

// ä½¿ç”¨ç®­å¤´å‡½æ•°å’Œç±»å‹æ¨æ–­
const formatCurrency = (amount: number): string => {
  return new Intl.NumberFormat('zh-CN', {
    style: 'currency',
    currency: 'CNY'
  }).format(amount);
};

// å¼‚æ­¥å‡½æ•°
async function fetchUserData(userId: string): Promise<User> {
  const response = await fetch(`/api/users/${userId}`);
  if (!response.ok) {
    throw new Error(`Failed to fetch user: ${response.statusText}`);
  }
  return response.json();
}

// âŒ é¿å…åšæ³•
function calculateAchievementRate(actual, target) {
  // ç¼ºå°‘ç±»å‹æ³¨è§£
  return actual / target * 100;
}
```

### ğŸ¨ React ç»„ä»¶è§„èŒƒ

**å‡½æ•°ç»„ä»¶è§„èŒƒ**
```typescript
// âœ… æ¨èåšæ³•
interface KpiCardProps {
  title: string;
  value: string | number;
  variant?: 'default' | 'good' | 'warning' | 'danger';
  onClick?: () => void;
}

/**
 * KPIå¡ç‰‡ç»„ä»¶
 * @param props ç»„ä»¶å±æ€§
 */
export const KpiCard: React.FC<KpiCardProps> = ({
  title,
  value,
  variant = 'default',
  onClick
}) => {
  // ä½¿ç”¨ useState ç®¡ç†çŠ¶æ€
  const [isHovered, setIsHovered] = useState(false);
  
  // ä½¿ç”¨ useMemo ä¼˜åŒ–è®¡ç®—
  const formattedValue = useMemo(() => {
    if (typeof value === 'number') {
      return value.toLocaleString();
    }
    return value;
  }, [value]);
  
  // ä½¿ç”¨ useCallback ä¼˜åŒ–äº‹ä»¶å¤„ç†
  const handleClick = useCallback(() => {
    onClick?.();
  }, [onClick]);
  
  return (
    <div
      className={cn(
        'kpi-card',
        `kpi-card--${variant}`,
        isHovered && 'kpi-card--hovered'
      )}
      onClick={handleClick}
      onMouseEnter={() => setIsHovered(true)}
      onMouseLeave={() => setIsHovered(false)}
    >
      <h3 className="kpi-card__title">{title}</h3>
      <p className="kpi-card__value">{formattedValue}</p>
    </div>
  );
};

// âŒ é¿å…åšæ³•
export default function KpiCard(props) {
  // ç¼ºå°‘ç±»å‹å®šä¹‰
  // ç¼ºå°‘ JSDoc æ³¨é‡Š
  // æ²¡æœ‰ä½¿ç”¨ React ä¼˜åŒ–ç‰¹æ€§
}
```

**è‡ªå®šä¹‰ Hook è§„èŒƒ**
```typescript
// âœ… æ¨èåšæ³•
/**
 * ç›®æ ‡æ•°æ®è·å– Hook
 * @param filters è¿‡æ»¤æ¡ä»¶
 * @returns æ•°æ®å’ŒçŠ¶æ€
 */
export function useTargetData(filters: TargetFilters) {
  const [data, setData] = useState<Target[]>([]);
  const [loading, setLoading] = useState(false);
  const [error, setError] = useState<string | null>(null);
  
  // ä½¿ç”¨ useCallback é¿å…ä¸å¿…è¦çš„é‡æ–°åˆ›å»º
  const fetchData = useCallback(async () => {
    setLoading(true);
    setError(null);
    
    try {
      const response = await targetApi.list(filters);
      setData(response.data);
    } catch (err) {
      setError(err instanceof Error ? err.message : 'Unknown error');
    } finally {
      setLoading(false);
    }
  }, [filters]);
  
  // ç»„ä»¶æŒ‚è½½æ—¶è·å–æ•°æ®
  useEffect(() => {
    fetchData();
  }, [fetchData]);
  
  // æ‰‹åŠ¨åˆ·æ–°æ•°æ®
  const refetch = useCallback(() => {
    fetchData();
  }, [fetchData]);
  
  return {
    data,
    loading,
    error,
    refetch
  };
}

// âŒ é¿å…åšæ³•
function useTargetData() {
  // æ²¡æœ‰å‚æ•°ç±»å‹å®šä¹‰
  // æ²¡æœ‰è¿”å›å€¼ç±»å‹å®šä¹‰
  // æ²¡æœ‰é”™è¯¯å¤„ç†
}
```

### ğŸ¯ æ ·å¼è§„èŒƒ

**Tailwind CSS è§„èŒƒ**
```typescript
// âœ… æ¨èåšæ³•
// ä½¿ç”¨ cn å·¥å…·å‡½æ•°åˆå¹¶ç±»å
import { cn } from '@/lib/utils';

interface ButtonProps {
  variant?: 'primary' | 'secondary' | 'outline';
  size?: 'sm' | 'md' | 'lg';
  className?: string;
}

export const Button: React.FC<ButtonProps> = ({
  variant = 'primary',
  size = 'md',
  className,
  children,
  ...props
}) => {
  const baseStyles = 'inline-flex items-center justify-center font-medium rounded-sm transition-normal';
  
  const variants = {
    primary: 'bg-tesla text-text-inverse hover:bg-tesla/90',
    secondary: 'bg-secondary text-text-primary hover:bg-secondary/80',
    outline: 'border border-border-light hover:border-tesla'
  };
  
  const sizes = {
    sm: 'px-2 py-1 text-xs',
    md: 'px-4 py-2 text-sm',
    lg: 'px-6 py-3 text-base'
  };
  
  return (
    <button
      className={cn(
        baseStyles,
        variants[variant],
        sizes[size],
        className
      )}
      {...props}
    >
      {children}
    </button>
  );
};

// âŒ é¿å…åšæ³•
// ç›´æ¥å†™æ ·å¼ç±»ï¼Œæ²¡æœ‰å¤ç”¨
<button className="inline-flex items-center justify-center font-medium rounded-sm transition-normal bg-tesla text-text-inverse hover:bg-tesla/90 px-4 py-2 text-sm">
  æŒ‰é’®æ–‡æœ¬
</button>
```

---

## ğŸ“ é¡¹ç›®ç»“æ„

### ğŸ—ï¸ ç›®å½•ç»“æ„

```
src/
â”œâ”€â”€ app/                          # Next.js App Router
â”‚   â”œâ”€â”€ (dashboard)/             # è·¯ç”±ç»„
â”‚   â”‚   â”œâ”€â”€ layout.tsx
â”‚   â”‚   â”œâ”€â”€ page.tsx
â”‚   â”‚   â””â”€â”€ [organization]/     # åŠ¨æ€è·¯ç”±
â”‚   â”œâ”€â”€ api/                     # API è·¯ç”±
â”‚   â”‚   â”œâ”€â”€ targets/
â”‚   â”‚   â”œâ”€â”€ achievements/
â”‚   â”‚   â””â”€â”€ auth/
â”‚   â”œâ”€â”€ globals.css
â”‚   â”œâ”€â”€ layout.tsx
â”‚   â””â”€â”€ page.tsx
â”œâ”€â”€ components/                   # ç»„ä»¶åº“
â”‚   â”œâ”€â”€ ui/                      # åŸºç¡€ UI ç»„ä»¶
â”‚   â”‚   â”œâ”€â”€ button/
â”‚   â”‚   â”œâ”€â”€ input/
â”‚   â”‚   â””â”€â”€ index.ts
â”‚   â”œâ”€â”€ business/                # ä¸šåŠ¡ç»„ä»¶
â”‚   â”‚   â”œâ”€â”€ kpi-card/
â”‚   â”‚   â”œâ”€â”€ chart-container/
â”‚   â”‚   â””â”€â”€ filter-selector/
â”‚   â””â”€â”€ layout/                  # å¸ƒå±€ç»„ä»¶
â”‚       â”œâ”€â”€ sidebar/
â”‚       â”œâ”€â”€ header/
â”‚       â””â”€â”€ footer/
â”œâ”€â”€ lib/                         # å·¥å…·åº“
â”‚   â”œâ”€â”€ utils.ts                 # é€šç”¨å·¥å…·å‡½æ•°
â”‚   â”œâ”€â”€ api.ts                   # API å®¢æˆ·ç«¯
â”‚   â”œâ”€â”€ hooks/                   # è‡ªå®šä¹‰ Hooks
â”‚   â””â”€â”€ constants.ts             # å¸¸é‡å®šä¹‰
â”œâ”€â”€ store/                       # çŠ¶æ€ç®¡ç†
â”‚   â”œâ”€â”€ use-global-store.ts      # Zustand Store
â”‚   â””â”€â”€ slices/                  # Store åˆ‡ç‰‡
â”œâ”€â”€ types/                       # ç±»å‹å®šä¹‰
â”‚   â”œâ”€â”€ api.ts                   # API ç±»å‹
â”‚   â”œâ”€â”€ business.ts              # ä¸šåŠ¡ç±»å‹
â”‚   â””â”€â”€ ui.ts                    # UI ç±»å‹
â”œâ”€â”€ styles/                      # æ ·å¼æ–‡ä»¶
â”‚   â”œâ”€â”€ globals.css              # å…¨å±€æ ·å¼
â”‚   â””â”€â”€ tokens.css               # è®¾è®¡ä»¤ç‰Œ
â””â”€â”€ tests/                       # æµ‹è¯•æ–‡ä»¶
    â”œâ”€â”€ __mocks__/               # Mock æ–‡ä»¶
    â”œâ”€â”€ components/              # ç»„ä»¶æµ‹è¯•
    â””â”€â”€ utils/                   # å·¥å…·å‡½æ•°æµ‹è¯•
```

### ğŸ“‹ æ–‡ä»¶å‘½åè§„èŒƒ

**ç»„ä»¶æ–‡ä»¶å‘½å**
```
# ç›®å½•å‘½åï¼ˆkebab-caseï¼‰
kpi-card/
filter-selector/
chart-container/

# æ–‡ä»¶å‘½åï¼ˆPascalCaseï¼‰
KpiCard.tsx
KpiCard.test.tsx
KpiCard.stories.tsx
index.ts

# ç±»å‹æ–‡ä»¶
KpiCard.types.ts
```

**å·¥å…·æ–‡ä»¶å‘½å**
```
# å·¥å…·å‡½æ•°ï¼ˆcamelCaseï¼‰
formatCurrency.ts
calculateAchievementRate.ts
dateUtils.ts

# å¸¸é‡æ–‡ä»¶ï¼ˆUPPER_SNAKE_CASEï¼‰
API_ENDPOINTS.ts
ERROR_MESSAGES.ts
VALIDATION_RULES.ts
```

---

## ğŸ”„ å¼€å‘æµç¨‹

### ğŸ¯ Git å·¥ä½œæµ

**åˆ†æ”¯ç­–ç•¥**
```bash
# ä¸»åˆ†æ”¯
main                    # ç”Ÿäº§ç¯å¢ƒä»£ç 
develop                 # å¼€å‘ç¯å¢ƒä»£ç 

# åŠŸèƒ½åˆ†æ”¯
feature/target-management     # æ–°åŠŸèƒ½å¼€å‘
feature/user-authentication   # æ–°åŠŸèƒ½å¼€å‘

# ä¿®å¤åˆ†æ”¯
hotfix/security-patch        # ç´§æ€¥ä¿®å¤
bugfix/data-validation       # Bug ä¿®å¤

# å‘å¸ƒåˆ†æ”¯
release/v2.1.0              # ç‰ˆæœ¬å‘å¸ƒå‡†å¤‡
```

**æäº¤è§„èŒƒ**
```bash
# æäº¤æ ¼å¼
<type>(<scope>): <description>

# ç±»å‹è¯´æ˜
feat:     æ–°åŠŸèƒ½
fix:      Bug ä¿®å¤
docs:     æ–‡æ¡£æ›´æ–°
style:    ä»£ç æ ¼å¼è°ƒæ•´
refactor: ä»£ç é‡æ„
test:     æµ‹è¯•ç›¸å…³
chore:    æ„å»ºè¿‡ç¨‹æˆ–è¾…åŠ©å·¥å…·çš„å˜åŠ¨

# ç¤ºä¾‹
feat(dashboard): add KPI card component
fix(api): resolve user authentication issue
docs(readme): update installation guide
```

### ğŸ§ª æµ‹è¯•ç­–ç•¥

**å•å…ƒæµ‹è¯•**
```typescript
// KpiCard.test.tsx
import { render, screen, fireEvent } from '@testing-library/react';
import { KpiCard } from './KpiCard';

describe('KpiCard', () => {
  const defaultProps = {
    title: 'å¹´åº¦ç›®æ ‡',
    value: '12345.67',
  };

  it('åº”è¯¥æ­£ç¡®æ¸²æŸ“æ ‡é¢˜å’Œå€¼', () => {
    render(<KpiCard {...defaultProps} />);
    
    expect(screen.getByText('å¹´åº¦ç›®æ ‡')).toBeInTheDocument();
    expect(screen.getByText('12345.67')).toBeInTheDocument();
  });

  it('åº”è¯¥åº”ç”¨æ­£ç¡®çš„å˜ä½“æ ·å¼', () => {
    render(<KpiCard {...defaultProps} variant="good" />);
    
    const card = screen.getByRole('article');
    expect(card).toHaveClass('kpi-card--good');
  });

  it('åº”è¯¥å“åº”ç‚¹å‡»äº‹ä»¶', () => {
    const handleClick = vi.fn();
    render(<KpiCard {...defaultProps} onClick={handleClick} />);
    
    fireEvent.click(screen.getByRole('article'));
    expect(handleClick).toHaveBeenCalledTimes(1);
  });
});
```

**é›†æˆæµ‹è¯•**
```typescript
// DashboardPage.integration.test.tsx
import { render, screen, waitFor } from '@testing-library/react';
import userEvent from '@testing-library/user-event';
import { DashboardPage } from './DashboardPage';

describe('DashboardPage Integration', () => {
  it('åº”è¯¥åŠ è½½å¹¶æ˜¾ç¤ºKPIæ•°æ®', async () => {
    render(<DashboardPage />);
    
    // ç­‰å¾…æ•°æ®åŠ è½½
    await waitFor(() => {
      expect(screen.getByText('å¹´åº¦ç›®æ ‡')).toBeInTheDocument();
      expect(screen.getByText('YTDç›®æ ‡')).toBeInTheDocument();
    });
    
    // éªŒè¯äº¤äº’åŠŸèƒ½
    const filterButton = screen.getByText('ç­›é€‰');
    await userEvent.click(filterButton);
    
    expect(screen.getByRole('dialog')).toBeInTheDocument();
  });
});
```

### ğŸš€ æ„å»ºä¸éƒ¨ç½²

**å¼€å‘ç¯å¢ƒå¯åŠ¨**
```bash
# å¯åŠ¨å¼€å‘æœåŠ¡å™¨
npm run dev

# å¯åŠ¨ç±»å‹æ£€æŸ¥
npm run type-check

# å¯åŠ¨ ESLint æ£€æŸ¥
npm run lint

# å¯åŠ¨ Prettier æ ¼å¼åŒ–
npm run format
```

**ç”Ÿäº§æ„å»º**
```bash
# æ„å»ºç”Ÿäº§ç‰ˆæœ¬
npm run build

# å¯åŠ¨ç”Ÿäº§æœåŠ¡å™¨
npm start

# åˆ†ææ„å»ºåŒ…å¤§å°
npm run analyze
```

**æµ‹è¯•å‘½ä»¤**
```bash
# è¿è¡Œæ‰€æœ‰æµ‹è¯•
npm test

# è¿è¡Œæµ‹è¯•å¹¶ç”Ÿæˆè¦†ç›–ç‡æŠ¥å‘Š
npm run test:coverage

# è¿è¡Œ E2E æµ‹è¯•
npm run test:e2e

# è¿è¡Œç»„ä»¶æµ‹è¯•ï¼ˆStorybookï¼‰
npm run test:storybook
```

---

## ğŸ› è°ƒè¯•æŠ€å·§

### ğŸ”§ VS Code è°ƒè¯•é…ç½®

**launch.json é…ç½®**
```json
{
  "version": "0.2.0",
  "configurations": [
    {
      "name": "Debug Next.js",
      "type": "node",
      "request": "launch",
      "program": "${workspaceFolder}/node_modules/.bin/next",
      "args": ["dev"],
      "cwd": "${workspaceFolder}",
      "runtimeArgs": ["--inspect"],
      "env": {
        "NODE_OPTIONS": "--inspect"
      },
      "console": "integratedTerminal",
      "restart": true,
      "protocol": "inspector"
    },
    {
      "name": "Debug Jest Tests",
      "type": "node",
      "request": "launch",
      "program": "${workspaceFolder}/node_modules/.bin/jest",
      "args": ["--runInBand", "--no-cache"],
      "cwd": "${workspaceFolder}",
      "console": "integratedTerminal",
      "internalConsoleOptions": "neverOpen"
    }
  ]
}
```

### ğŸ¯ React å¼€å‘å·¥å…·

**React Developer Tools**
- å®‰è£…æµè§ˆå™¨æ‰©å±•
- ç»„ä»¶å±‚çº§æ£€æŸ¥
- Props å’Œ State ç›‘æ§
- æ€§èƒ½åˆ†æ

**Redux DevTools** (å¦‚æœä½¿ç”¨)
- Store çŠ¶æ€ç›‘æ§
- Action å†å²è®°å½•
- Time Travel è°ƒè¯•
- State å˜æ›´è¿½è¸ª

### ğŸ“Š æ€§èƒ½è°ƒè¯•

**React Profiler**
```typescript
import { Profiler } from 'react';

const onRenderCallback = (id, phase, actualDuration) => {
  console.log('Component render info:', { id, phase, actualDuration });
};

<Profiler id="KpiCard" onRender={onRenderCallback}>
  <KpiCard title="å¹´åº¦ç›®æ ‡" value="12345" />
</Profiler>
```

**æ€§èƒ½ç›‘æ§**
```typescript
// ä½¿ç”¨ Performance API
const measurePerformance = (name: string, fn: () => void) => {
  performance.mark(`${name}-start`);
  fn();
  performance.mark(`${name}-end`);
  performance.measure(name, `${name}-start`, `${name}-end`);
  
  const measure = performance.getEntriesByName(name)[0];
  console.log(`${name} took ${measure.duration}ms`);
  performance.clearMarks();
  performance.clearMeasures();
};
```

### ğŸ› å¸¸è§é—®é¢˜è§£å†³

**çŠ¶æ€æ›´æ–°é—®é¢˜**
```typescript
// âŒ é”™è¯¯ï¼šç›´æ¥ä¿®æ”¹çŠ¶æ€
const [data, setData] = useState([]);
data.push(newItem); // é”™è¯¯ï¼šç›´æ¥ä¿®æ”¹
setData(data);

// âœ… æ­£ç¡®ï¼šåˆ›å»ºæ–°çŠ¶æ€
setData(prev => [...prev, newItem]);
```

**å¼‚æ­¥çŠ¶æ€é—®é¢˜**
```typescript
// âŒ é”™è¯¯ï¼šçŠ¶æ€æ›´æ–°æ˜¯å¼‚æ­¥çš„
const [count, setCount] = useState(0);
setCount(count + 1);
console.log(count); // ä»ç„¶æ˜¯æ—§å€¼

// âœ… æ­£ç¡®ï¼šä½¿ç”¨ useEffect ç›‘å¬
useEffect(() => {
  console.log(count); // æœ€æ–°çš„å€¼
}, [count]);
```

**å†…å­˜æ³„æ¼é—®é¢˜**
```typescript
// âœ… æ­£ç¡®ï¼šæ¸…ç†å‰¯ä½œç”¨
useEffect(() => {
  const timer = setInterval(() => {
    // å®šæ—¶ä»»åŠ¡
  }, 1000);
  
  return () => {
    clearInterval(timer); // æ¸…ç†å®šæ—¶å™¨
  };
}, []);
```

---

**æ–‡æ¡£ç‰ˆæœ¬:** 2.0.0  
**æ›´æ–°æ—¶é—´:** 2025-12-23  
**ç»´æŠ¤å›¢é˜Ÿ**: å¼€å‘å›¢é˜Ÿ  
**ç›¸å…³æ–‡æ¡£**: [UIå¼€å‘æŒ‡å—](./ui-dev-guide.md) | [ä»£ç è´¨é‡è§„èŒƒ](./code-quality.md)