# ğŸ“¦ ç»„ä»¶ç´¢å¼•

> æœ¬é¡¹ç›®æ‰€æœ‰å¯å¤ç”¨ç»„ä»¶çš„å®Œæ•´ç›®å½•
>
> **é‡è¦**: åœ¨åˆ›å»ºæ–°ç»„ä»¶å‰ï¼Œè¯·åŠ¡å¿…å…ˆæ£€æŸ¥æœ¬ç´¢å¼•ï¼å¦‚æœæ‰¾ä¸åˆ°åˆé€‚çš„ç»„ä»¶ï¼Œè¯·å‚è€ƒ [ç»„ä»¶å¤ç”¨ä¼˜å…ˆåŸåˆ™](../development/å¼€å‘æŒ‡å—.md#ğŸ”„-ç»„ä»¶å¤ç”¨ä¼˜å…ˆåŸåˆ™)

---

## ğŸ“‹ å¿«é€ŸæŸ¥æ‰¾

| ç»„ä»¶åç§° | ç”¨é€” | ä½ç½® | çŠ¶æ€ |
|---------|------|------|------|
| SortButtonGroup | æ’åºæŒ‰é’®ç»„ | `src/components/ui/SortButtonGroup.tsx` | âœ… å¯ç”¨ |
| KpiCard | KPIæŒ‡æ ‡å¡ç‰‡ | `src/components/kpi/` | ğŸ“‹ è§„åˆ’ä¸­ |
| FilterSelector | ç­›é€‰é€‰æ‹©å™¨ | `src/components/ui/` | ğŸ“‹ è§„åˆ’ä¸­ |
| ChartContainer | å›¾è¡¨å®¹å™¨ | `src/components/charts/` | âœ… å¯ç”¨ |
| DataTable | æ•°æ®è¡¨æ ¼ | `src/components/ui/` | ğŸ“‹ è§„åˆ’ä¸­ |

---

## ğŸ”˜ SortButtonGroup - æ’åºæŒ‰é’®ç»„

**å®Œæ•´æ–‡æ¡£**: [SortButtonGroupä½¿ç”¨æŒ‡å—](../features/SortButtonGroupä½¿ç”¨æŒ‡å—.md)

### åŸºæœ¬ä¿¡æ¯

- **ä½ç½®**: `src/components/ui/SortButtonGroup.tsx`
- **ç±»å‹**: UIç»„ä»¶
- **çŠ¶æ€**: âœ… ç”Ÿäº§å¯ç”¨
- **åˆ›å»ºæ—¥æœŸ**: 2025-12-25
- **ç‰ˆæœ¬**: 1.0.0

### åŠŸèƒ½æè¿°

å…¨å±€å¯å¤ç”¨çš„æ’åºæŒ‰é’®ç»„ç»„ä»¶ï¼Œæ”¯æŒå¤šç§æ’åºæ–¹å¼åˆ‡æ¢ã€‚é€‚ç”¨äºä»»ä½•éœ€è¦æ’åºåˆ‡æ¢åŠŸèƒ½çš„åˆ—è¡¨ã€è¡¨æ ¼æˆ–å›¾è¡¨åœºæ™¯ã€‚

### æ ¸å¿ƒç‰¹æ€§

- âœ… æ”¯æŒå‡åº/é™åºåˆ‡æ¢
- âœ… å¯é…ç½®å¤šä¸ªæ’åºé€‰é¡¹
- âœ… æ´»åŠ¨çŠ¶æ€é«˜äº®æ˜¾ç¤º
- âœ… ç®­å¤´æŒ‡ç¤ºæ’åºæ–¹å‘
- âœ… å®Œå…¨å¯å¤ç”¨çš„è®¾è®¡
- âœ… æ”¯æŒ readonly æ•°ç»„
- âœ… å¯è‡ªå®šä¹‰å°ºå¯¸å’Œæ ·å¼

### Props

```typescript
interface SortButtonGroupProps {
  options: readonly SortOption[] | SortOption[];
  activeKey: string;
  sortOrder: SortOrder;
  onSortChange: (key: string, order: SortOrder) => void;
  className?: string;
  size?: 'sm' | 'md' | 'lg';
  variant?: 'default' | 'outline' | 'ghost';
}
```

### é¢„è®¾é€‰é¡¹

```typescript
import { SortPresets } from '@/components/ui/SortButtonGroup';

SortPresets.orgPremium  // ä¿è´¹è§„åˆ’å›¾æ’åº
SortPresets.numeric     // é€šç”¨æ•°å€¼æ’åº
SortPresets.temporal    // æ—¶é—´æ’åº
```

### ä½¿ç”¨ç¤ºä¾‹

```tsx
import { SortButtonGroup, SortPresets, type SortOrder } from '@/components/ui/SortButtonGroup';

function MyComponent() {
  const [sortKey, setSortKey] = useState('premium');
  const [sortOrder, setSortOrder] = useState<SortOrder>('desc');

  return (
    <SortButtonGroup
      options={SortPresets.orgPremium}
      activeKey={sortKey}
      sortOrder={sortOrder}
      onSortChange={(key, order) => {
        setSortKey(key);
        setSortOrder(order);
      }}
      size="sm"
      variant="outline"
    />
  );
}
```

### ä½¿ç”¨åœºæ™¯

- âœ… **ä¸‰çº§æœºæ„ä¿è´¹è§„åˆ’å›¾** - `src/app/orgs/[org_id]/OrgDetailClient.tsx:509`
  - æŒ‰ä¿è´¹è§„åˆ’/å æ¯”è§„åˆ’/å¢é•¿ç‡è§„åˆ’æ’åº

### äº¤äº’è¡Œä¸º

- **ç‚¹å‡»å½“å‰æ¿€æ´»çš„æŒ‰é’®**: åˆ‡æ¢æ’åºæ–¹å‘ï¼ˆå‡åºâ†‘ â†” é™åºâ†“ï¼‰
- **ç‚¹å‡»ä¸åŒçš„æŒ‰é’®**: åˆ‡æ¢åˆ°æ–°çš„æ’åºæ–¹å¼ï¼ˆé»˜è®¤é™åºï¼‰

### ç›¸å…³èµ„æº

- **è®¾è®¡è§„èŒƒ**: [ç»„ä»¶è®¾è®¡è§„èŒƒ - SortButtonGroup](../design/ç»„ä»¶è®¾è®¡è§„èŒƒ.md#ğŸ”˜-sortbuttongroup---æ’åºæŒ‰é’®ç»„-new)
- **ä½¿ç”¨æŒ‡å—**: [SortButtonGroupä½¿ç”¨æŒ‡å—](../features/SortButtonGroupä½¿ç”¨æŒ‡å—.md)
- **æ’åºå·¥å…·**: `src/lib/sorting.ts`
- **ç±»å‹å®šä¹‰**: `src/components/ui/SortButtonGroup.tsx`

---

## ğŸ“Š UniversalChart - é€šç”¨å›¾è¡¨ç»„ä»¶

### åŸºæœ¬ä¿¡æ¯

- **ä½ç½®**: `src/components/charts/UniversalChart/`
- **ç±»å‹**: ä¸šåŠ¡ç»„ä»¶
- **çŠ¶æ€**: âœ… ç”Ÿäº§å¯ç”¨
- **æ–‡æ¡£**: `docs/fangan.md`

### åŠŸèƒ½æè¿°

é«˜åº¦å‚æ•°åŒ–çš„é€šç”¨å›¾è¡¨ç»„ä»¶ï¼Œæ”¯æŒæœˆåº¦/å­£åº¦ã€ç»å¯¹å€¼/å æ¯”/è¾¾æˆç‡ç­‰å¤šç§åœºæ™¯ã€‚

### æ”¯æŒçš„å›¾è¡¨ç±»å‹

- `quarterlyPremium` - å­£åº¦ä¿è´¹è§„åˆ’å›¾
- `quarterlyShare` - å­£åº¦å æ¯”è§„åˆ’å›¾
- `monthlyPremium` - æœˆåº¦ä¿è´¹è§„åˆ’å›¾
- `monthlyShare` - æœˆåº¦å æ¯”è§„åˆ’å›¾
- `hqPrediction` - æ€»å…¬å¸é¢„æµ‹å›¾
- `orgPremium` - ä¸‰çº§æœºæ„ä¿è´¹è§„åˆ’å›¾

### ä½¿ç”¨ç¤ºä¾‹

```tsx
import { UniversalChart, createOrganizationPremiumAdapter } from '@/components/charts/UniversalChart';

<UniversalChart
  chartType="orgPremium"
  data={createOrganizationPremiumAdapter().adapt(data)}
  config={{
    title: "ä¸‰çº§æœºæ„2026å¹´åº¦ä¿è´¹è§„åˆ’å›¾",
    height: 400,
    showDataLabel: true,
  }}
/>
```

---

## ğŸ¨ Badge - å¾½ç« ç»„ä»¶

### åŸºæœ¬ä¿¡æ¯

- **ä½ç½®**: `src/components/ui/Badge.tsx`
- **ç±»å‹**: UIç»„ä»¶
- **çŠ¶æ€**: âœ… å¯ç”¨

### åŠŸèƒ½æè¿°

ç”¨äºæ˜¾ç¤ºçŠ¶æ€ã€æ ‡ç­¾æˆ–è®¡æ•°çš„å°å‹å¾½ç« ç»„ä»¶ã€‚

---

## ğŸ“ æ·»åŠ æ–°ç»„ä»¶åˆ°ç´¢å¼•

å½“ä½ åˆ›å»ºæ–°ç»„ä»¶æ—¶ï¼Œè¯·æŒ‰ä»¥ä¸‹æ­¥éª¤æ›´æ–°æœ¬ç´¢å¼•ï¼š

### 1. ç»„ä»¶æ¸…å•æ£€æŸ¥

```bash
# ç¡®è®¤ç»„ä»¶ä¸å­˜åœ¨
cat docs/components/ç»„ä»¶ç´¢å¼•.md | grep "ç»„ä»¶åç§°"
cat src/components/ui/index.ts | grep "ç»„ä»¶åç§°"
```

### 2. åˆ›å»ºç»„ä»¶æ–‡ä»¶

```bash
# åˆ›å»ºç»„ä»¶ç›®å½•
mkdir -p src/components/ui/YourComponent

# åˆ›å»ºå¿…è¦æ–‡ä»¶
touch src/components/ui/YourComponent/YourComponent.tsx
touch src/components/ui/YourComponent/YourComponent.types.ts
touch src/components/ui/YourComponent/index.ts
```

### 3. ç¼–å†™æ–‡æ¡£

- âœ… JSDoc æ³¨é‡Š
- âœ… Props è¯´æ˜
- âœ… ä½¿ç”¨ç¤ºä¾‹
- âœ… åˆ›å»ºä½¿ç”¨æŒ‡å—æ–‡æ¡£ (`docs/features/YourComponentä½¿ç”¨æŒ‡å—.md`)

### 4. æ›´æ–°ç´¢å¼•

```bash
# 1. æ›´æ–° UI ç»„ä»¶å¯¼å‡º
# ç¼–è¾‘ src/components/ui/index.ts

# 2. æ›´æ–°ç»„ä»¶ç´¢å¼•ï¼ˆæœ¬æ–‡ä»¶ï¼‰
# ç¼–è¾‘ docs/components/ç»„ä»¶ç´¢å¼•.md

# 3. æ›´æ–°ç»„ä»¶è®¾è®¡è§„èŒƒ
# ç¼–è¾‘ docs/design/ç»„ä»¶è®¾è®¡è§„èŒƒ.md

# 4. åŒæ­¥æ–‡æ¡£ç´¢å¼•
pnpm docs:sync

# 5. éªŒè¯
pnpm typecheck
pnpm docs:check
```

### 5. ç»„ä»¶æ–‡æ¡£æ¨¡æ¿

```markdown
## ğŸ”˜ YourComponent - ç»„ä»¶åç§°

**å®Œæ•´æ–‡æ¡£**: [YourComponentä½¿ç”¨æŒ‡å—](../features/YourComponentä½¿ç”¨æŒ‡å—.md)

### åŸºæœ¬ä¿¡æ¯

- **ä½ç½®**: `src/components/ui/YourComponent.tsx`
- **ç±»å‹**: UIç»„ä»¶
- **çŠ¶æ€**: âœ… ç”Ÿäº§å¯ç”¨
- **åˆ›å»ºæ—¥æœŸ**: YYYY-MM-DD
- **ç‰ˆæœ¬**: 1.0.0

### åŠŸèƒ½æè¿°

ç®€çŸ­æè¿°ç»„ä»¶ç”¨é€”å’Œé€‚ç”¨åœºæ™¯ã€‚

### æ ¸å¿ƒç‰¹æ€§

- âœ… ç‰¹æ€§1
- âœ… ç‰¹æ€§2
- âœ… ç‰¹æ€§3

### Props

```typescript
interface YourComponentProps {
  // Props å®šä¹‰
}
```

### ä½¿ç”¨ç¤ºä¾‹

```tsx
import { YourComponent } from '@/components/ui/YourComponent';

function Example() {
  return (
    <YourComponent
      prop1="value1"
      prop2={true}
      onChange={(val) => console.log(val)}
    />
  );
}
```

### ä½¿ç”¨åœºæ™¯

- âœ… åœºæ™¯1 - ä½ç½®å¼•ç”¨
- âœ… åœºæ™¯2 - ä½ç½®å¼•ç”¨

### ç›¸å…³èµ„æº

- **è®¾è®¡è§„èŒƒ**: [ç»„ä»¶è®¾è®¡è§„èŒƒ - YourComponent](../design/ç»„ä»¶è®¾è®¡è§„èŒƒ.md#yourcomponent)
- **ä½¿ç”¨æŒ‡å—**: [YourComponentä½¿ç”¨æŒ‡å—](../features/YourComponentä½¿ç”¨æŒ‡å—.md)
```

---

## ğŸ” æœç´¢æŠ€å·§

### æŒ‰ç”¨é€”æœç´¢

| éœ€æ±‚ | æ¨èç»„ä»¶ |
|------|---------|
| éœ€è¦æ’åºåŠŸèƒ½ | SortButtonGroup |
| éœ€è¦ç­›é€‰åŠŸèƒ½ | FilterSelector (è§„åˆ’ä¸­) |
| éœ€è¦å±•ç¤ºKPI | KpiCard (è§„åˆ’ä¸­) |
| éœ€è¦å±•ç¤ºå›¾è¡¨ | UniversalChart |
| éœ€è¦å±•ç¤ºçŠ¶æ€ | Badge |
| éœ€è¦å±•ç¤ºè¡¨æ ¼ | DataTable (è§„åˆ’ä¸­) |

### æŒ‰ç±»å‹æœç´¢

```bash
# æœç´¢æ‰€æœ‰ UI ç»„ä»¶
find src/components/ui -name "*.tsx"

# æœç´¢æ‰€æœ‰ä¸šåŠ¡ç»„ä»¶
find src/components -name "*.tsx" -not -path "*/ui/*"

# æœç´¢ç»„ä»¶è®¾è®¡è§„èŒƒ
grep -r "ç”¨é€”:" docs/design/ç»„ä»¶è®¾è®¡è§„èŒƒ.md
```

---

## ğŸ“Š ç»„ä»¶ç»Ÿè®¡

```yaml
UI ç»„ä»¶:
  å·²å®ç°: 2 ä¸ª (SortButtonGroup, Badge)
  è§„åˆ’ä¸­: 3 ä¸ª (KpiCard, FilterSelector, DataTable)

ä¸šåŠ¡ç»„ä»¶:
  å·²å®ç°: 1 ä¸ª (UniversalChart)
  è§„åˆ’ä¸­: 0 ä¸ª

å›¾è¡¨ç»„ä»¶:
  å·²é›†æˆåœ¨ UniversalChart ä¸­

æ€»è¦†ç›–ç‡:
  UI ç»„ä»¶: 40%
  ä¸šåŠ¡ç»„ä»¶: 100%
  å›¾è¡¨ç»„ä»¶: 100%
```

---

**ç»´æŠ¤**: æœ¬ç´¢å¼•åº”ç”±å¼€å‘å›¢é˜Ÿåœ¨æ¯æ¬¡åˆ›å»ºæ–°ç»„ä»¶æ—¶æ›´æ–°
**æ›´æ–°é¢‘ç‡**: éšæ—¶
**ç‰ˆæœ¬**: 1.0.0
**æœ€åæ›´æ–°**: 2025-12-25
