# è®¾è®¡ç³»ç»Ÿ - å¿«é€Ÿå‚è€ƒæ‰‹å†Œ

> Next.js + Tailwind CSS è®¾è®¡ç³»ç»Ÿå®ç°æŒ‡å—
>
> **ç‰ˆæœ¬:** 2.0.0 | **æ›´æ–°:** 2025-12-23 | **æŠ€æœ¯æ ˆ:** Next.js 14 + TypeScript + Tailwind 3

---

## ğŸ“‘ å¿«é€Ÿå¯¼èˆª

- [å¿«é€Ÿå¼€å§‹](#-å¿«é€Ÿå¼€å§‹)
- [è®¾è®¡Token](#-è®¾è®¡token)
- [Tailwindé€ŸæŸ¥](#-tailwindé€ŸæŸ¥)
- [ç»„ä»¶API](#-ç»„ä»¶api)
- [å›¾è¡¨è§„èŒƒ](#-å›¾è¡¨è§„èŒƒ)

---

## ğŸš€ å¿«é€Ÿå¼€å§‹

### 1. Tailwind å·¥å…·ç±»

```tsx
<div className="bg-primary text-text-inverse rounded-md p-md shadow-md">
  ä¸»è¦æŒ‰é’®
</div>
```

### 2. ç»„ä»¶åº“

```tsx
import { KpiCard } from '@/components/kpi/KpiCard';

<KpiCard title="å¹´åº¦ç›®æ ‡" value="12345.67 ä¸‡å…ƒ" variant="good" />
```

### 3. TypeScript Token

```tsx
import { colors } from '@/styles/tokens';

itemStyle: { color: colors.chart.claimRate }
```

---

## ğŸ¨ è®¾è®¡Token

### é¢œè‰²ç³»ç»Ÿ

| ç”¨é€” | Tailwindç±» | å€¼ |
|------|-----------|-----|
| å“ç‰Œä¸»è‰² | `bg-primary` | #a02724 |
| ç‰¹æ–¯æ‹‰è“ | `bg-tesla` | #0070c0 |
| ä¼˜ç§€çŠ¶æ€ | `bg-status-good` | #00b050 |
| é¢„è­¦çŠ¶æ€ | `bg-status-warning` | #ffc000 |
| å±é™©çŠ¶æ€ | `bg-status-danger` | #c00000 |
| ä¸»è¦æ–‡å­— | `text-text-primary` | #333333 |
| æ¬¡è¦æ–‡å­— | `text-text-secondary` | #666666 |
| æ»¡æœŸèµ”ä»˜ç‡æŸ± | `bg-chart-claim-rate` | #87ceeb |
| è´¹ç”¨ç‡æŸ± | `bg-chart-expense-rate` | #d3d3d3 |

### é—´è·ç³»ç»Ÿ

| ç±»å | å€¼ | ç”¨é€” |
|------|-----|------|
| `p-xs`, `m-xs` | 4px | å¾®é—´è· |
| `p-sm`, `m-sm` | 8px | æŒ‰é’®å†…è¾¹è· |
| `p-md`, `m-md` | 16px | å¡ç‰‡é—´è· |
| `p-lg`, `m-lg` | 24px | åŒºå—é—´è· |

### åœ†è§’ & é˜´å½±

| ç±»å | å€¼ | ç”¨é€” |
|------|-----|------|
| `rounded-sm` | 8px | æŒ‰é’® |
| `rounded-xl` | 20px | KPIå¡ç‰‡ |
| `shadow-md` | - | å¡ç‰‡é˜´å½± |
| `shadow-focus` | - | ç„¦ç‚¹å…‰æ™• |

---

## âš¡ Tailwindé€ŸæŸ¥

### å¡ç‰‡å®¹å™¨

```tsx
<div className="rounded-xl border border-border-light p-4 bg-white shadow-md">
  {/* å†…å®¹ */}
</div>
```

### é€‰ä¸­æŒ‰é’®

```tsx
<button className="bg-tesla text-text-inverse rounded-sm px-md py-sm hover:shadow-md transition-normal">
  é€‰ä¸­
</button>
```

### å“åº”å¼ç½‘æ ¼

```tsx
<div className="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 2xl:grid-cols-6 gap-4">
  {/* KPIå¡ç‰‡ */}
</div>
```

**æ–­ç‚¹:** xs(480) | sm(640) | md(768) | lg(1440) | xl(1920) | 2xl(2560)

---

## ğŸ“¦ ç»„ä»¶API

### KpiCard

```tsx
<KpiCard
  title="å¹´åº¦ç›®æ ‡"           // æ ‡é¢˜
  value="12345.67 ä¸‡å…ƒ"      // æŒ‡æ ‡å€¼
  variant="good"            // default | good | warning | danger
  hint="æç¤ºæ–‡æœ¬"            // å¯é€‰
  onClick={() => {}}        // å¯é€‰
/>
```

### FilterSelector

```tsx
type ProductView = 'total' | 'auto' | 'property';

<FilterSelector<ProductView>
  label="äº§å“"
  value={product}
  onChange={setProduct}
  options={[
    { value: 'total', label: 'æ±‡æ€»' },
    { value: 'auto', label: 'è½¦é™©' },
  ]}
/>
```

### Section

```tsx
<Section
  title="ç»è¥æ¦‚è§ˆ"           // å¯é€‰
  subtitle="æ•°æ®åˆ†æ"        // å¯é€‰
>
  <div>åŒºå—å†…å®¹</div>
</Section>
```

### ChartContainer

```tsx
<ChartContainer
  title="æœˆåº¦ç›®æ ‡åˆ†è§£"
  height="lg"               // sm(400) | md(600) | lg(600) | æ•°å­—
>
  <ReactECharts option={chartOption} />
</ChartContainer>
```

---

## ğŸ“Š å›¾è¡¨è§„èŒƒ

### ç»è¥æ¦‚è§ˆå †ç§¯å›¾

**å…³é”®è¦ç‚¹:**
- âœ… åŒYè½´èŒƒå›´ä¸€è‡´ (min: 0, max: 150)
- âœ… æ ‡ç­¾æ·±è‰²å­—ä½“ (#333333)
- âœ… å †ç§¯æŸ±å†…æ˜¾ç¤ºï¼ŒæŠ˜çº¿é¡¶éƒ¨æ˜¾ç¤º

```typescript
import { colors, typography } from '@/styles/tokens';

const option = {
  yAxis: [
    { min: 0, max: 150, position: 'left' },   // å·¦è½´
    { min: 0, max: 150, position: 'right' },  // å³è½´ï¼ˆä¿æŒä¸€è‡´ï¼ï¼‰
  ],
  series: [
    {
      name: 'æ»¡æœŸèµ”ä»˜ç‡',
      type: 'bar',
      yAxisIndex: 0,
      itemStyle: { color: colors.chart.claimRate },  // #87ceeb
      label: {
        show: true,
        position: 'inside',  // æŸ±å†…
        color: colors.text.primary
      },
      stack: 'rates',
    },
    {
      name: 'è´¹ç”¨ç‡',
      type: 'bar',
      yAxisIndex: 0,
      itemStyle: { color: colors.chart.expenseRate },  // #d3d3d3
      label: {
        show: true,
        position: 'inside',  // æŸ±å†…
        color: colors.text.primary
      },
      stack: 'rates',  // ç›¸åŒstackå€¼
    },
    {
      name: 'ä¿è´¹æ—¶é—´è¿›åº¦è¾¾æˆç‡',
      type: 'line',
      yAxisIndex: 1,
      lineStyle: { color: colors.chart.progressLine, width: 2 },
      label: {
        show: true,
        position: 'top',  // ç‚¹ä¸Šæ–¹
        fontWeight: 'bold'
      },
    },
  ],
};
```

---

## ğŸ¢ ç»„ç»‡æ¨¡å¼ç³»ç»Ÿ

**ä½ç½®:** `src/config/organizationModes.ts`

### 5ç§æ¨¡å¼

| æ¨¡å¼ | è¯´æ˜ | æœºæ„æ•° | ç¤ºä¾‹ |
|------|------|--------|------|
| `branch` | åˆ†å…¬å¸ | 14ä¸ª | å››å·åˆ†å…¬å¸è½¦é™©ç¬¬50å‘¨... |
| `local` | åŒåŸ | 7ä¸ª | å››å·åŒåŸæœºæ„è½¦é™©... |
| `remote` | å¼‚åœ° | 7ä¸ª | å››å·å¼‚åœ°æœºæ„è½¦é™©... |
| `single` | å•æœºæ„ | 1ä¸ª | å¤©åºœæœºæ„è½¦é™©... |
| `multi` | å¤šæœºæ„ | è‡ªå®šä¹‰ | å››å·å¤šæœºæ„è½¦é™©... |

### ä½¿ç”¨ç¤ºä¾‹

```typescript
import { detectOrganizationMode, generatePageTitle } from '@/config/organizationModes';

const result = detectOrganizationMode(['æœ¬éƒ¨', 'å¤©åºœ', 'é«˜æ–°', 'æ–°éƒ½', 'é’ç¾Š', 'æ­¦ä¾¯', 'è¥¿è´¢ä¿Šè‹‘'], allOrgs);
// result.mode â†’ 'local'
// result.config.name â†’ 'åŒåŸ'

const title = generatePageTitle(result.mode, { week: '50', year: '2025' });
// â†’ "å››å·åŒåŸæœºæ„è½¦é™©ç¬¬50å‘¨ç»è¥åˆ†æ"
```

---

## ğŸ”§ TypeScriptç±»å‹

### Tokenç±»å‹

```typescript
import type { ColorPalette, Typography } from '@/styles/tokens';

function applyTheme(theme: ColorPalette) {
  const color = theme.brand.primaryRed;  // ç±»å‹å®‰å…¨
}
```

### ç»„ä»¶Props

```typescript
import type { KpiCardProps } from '@/components/kpi/KpiCard';

interface CustomKpiCardProps extends KpiCardProps {
  customField: string;
}
```

### å·¥å…·å‡½æ•°

```typescript
import { getDataDepthColor, getStatusColor } from '@/styles/tokens';

const color = getDataDepthColor(50, 100);  // è¿”å› string
const status = getStatusColor(92, { good: 91, warning: 94 });
```

---

## ğŸ“š è¿ç§»æŒ‡å—

### é¢œè‰²è¿ç§»

| æ—§ç±»å | æ–°ç±»å |
|--------|--------|
| `text-slate-600` | `text-text-secondary` |
| `text-slate-900` | `text-text-primary` |
| `text-blue-700` | `text-tesla` |
| `border` | `border border-border-light` |

### KpiCardè¿ç§»

**è¿ç§»å‰:**
```tsx
<div className="rounded-xl border p-4">
  <div className="text-xs text-slate-600">{title}</div>
  <div className="mt-2 text-lg font-semibold">{value}</div>
</div>
```

**è¿ç§»å:**
```tsx
<KpiCard title={title} value={value} />
```

### FilterSelectorè¿ç§»

**è¿ç§»å‰:**
```tsx
<select value={product} onChange={(e) => setProduct(e.target.value)}>
  <option value="total">æ±‡æ€»</option>
</select>
```

**è¿ç§»å:**
```tsx
<FilterSelector
  label="äº§å“"
  value={product}
  onChange={setProduct}
  options={[{ value: 'total', label: 'æ±‡æ€»' }]}
/>
```

---

## ğŸ› ï¸ cnå·¥å…·å‡½æ•°

**ä½ç½®:** `src/lib/utils.ts`

```typescript
import { cn } from '@/lib/utils';

// æ¡ä»¶ç±»å
<div className={cn(
  'px-2 py-1',
  isActive && 'bg-tesla text-text-inverse',
  isDisabled && 'opacity-50'
)} />

// ç±»å†²çªè§£å†³
cn('px-2', 'px-4')  // â†’ 'px-4' (åè€…ä¼˜å…ˆ)
```

---

**æ–‡æ¡£ç‰ˆæœ¬:** 2.0.0 (Tailwindé€‚é…ç‰ˆ)
**ç»´æŠ¤:** å¼€å‘å›¢é˜Ÿ
