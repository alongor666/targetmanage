# 字体系统快速参考

> **版本**: 1.0.0
> **更新日期**: 2025-12-27
> **相关文档**: [全局设计规范.md](./全局设计规范.md)

## 📏 字体大小速查表

| 大小 | CSS变量 | Tailwind类 | 常量值 | 使用场景 |
|------|---------|-----------|--------|---------|
| 11px | `--font-size-xs` | `text-xs` | `FONT_SIZE.xs` | 图表标签、辅助信息 |
| 12px | `--font-size-sm` | `text-sm` | `FONT_SIZE.sm` | 坐标轴、次要信息 |
| 14px | `--font-size-base` | `text-base` | `FONT_SIZE.base` | 正文、主要内容 |
| 16px | `--font-size-md` | - | `FONT_SIZE.md` | 强调文本 |
| 18px | `--font-size-lg` | `text-lg` | `FONT_SIZE.lg` | KPI数值、小标题 |
| 24px | `--font-size-xl` | `text-xl` | `FONT_SIZE.xl` | 标题 |
| 32px | `--font-size-xxl` | - | `FONT_SIZE.xxl` | 大标题 |
| 48px | `--font-size-xxxl` | - | `FONT_SIZE.xxxl` | 大型KPI数值 |

## 🎯 ECharts 配置速查

### 导入常量

```typescript
import { FONT_SIZE, CHART_FONT_SIZE } from '@/lib/typography';
```

### 语义化预设

```typescript
// 坐标轴标签
xAxis: { axisLabel: { fontSize: CHART_FONT_SIZE.axisLabel } }  // 12px

// 图例文字
legend: { textStyle: { fontSize: CHART_FONT_SIZE.legend } }    // 12px

// 数据标签（柱状图、折线图）
series: [{ label: { fontSize: CHART_FONT_SIZE.dataLabel } }]   // 11px

// Tooltip
tooltip: {
  textStyle: { fontSize: CHART_FONT_SIZE.tooltipContent }      // 12px
}
```

### 完整示例

```typescript
import { FONT_SIZE } from '@/lib/typography';

const option = {
  xAxis: {
    axisLabel: {
      fontSize: FONT_SIZE.sm,       // 12px - 坐标轴标签
      color: '#666'
    }
  },
  yAxis: {
    name: '保费（万元）',
    nameTextStyle: {
      fontSize: FONT_SIZE.sm,      // 12px - 轴名称
      color: '#666'
    },
    axisLabel: {
      fontSize: FONT_SIZE.xs,      // 11px - 刻度标签
      color: '#999'
    }
  },
  series: [{
    type: 'bar',
    label: {
      show: true,
      fontSize: FONT_SIZE.xs,      // 11px - 数据标签
      position: 'top'
    }
  }, {
    type: 'line',
    label: {
      show: true,
      fontSize: FONT_SIZE.sm,      // 12px - 折线图标签
      fontWeight: 'bold'
    }
  }],
  tooltip: {
    textStyle: {
      fontSize: FONT_SIZE.base     // 14px - Tooltip内容
    }
  }
};
```

## 🎨 语义化工具类速查

### 图表文字

```tsx
<div className="text-chart-axis">坐标轴标签（12px）</div>
<div className="text-chart-label">数据标签（11px）</div>
<div className="text-chart-title">图表标题（18px）</div>
```

### KPI文字

```tsx
<div className="text-kpi-title">KPI标题（11px）</div>
<div className="text-kpi-value">KPI数值（18px）</div>
<div className="text-kpi-value-large">大型KPI（48px）</div>
```

### 表格文字

```tsx
<div className="text-table-header">表头（12px）</div>
<div className="text-table-cell">单元格（12px）</div>
<div className="text-table-cell-number">数字单元格（12px，等宽数字）</div>
```

### 正文文字

```tsx
<div className="text-body-primary">主要文字（14px）</div>
<div className="text-body-secondary">次要文字（14px）</div>
<div className="text-caption">辅助文字（11px）</div>
```

## ⚠️ 常见错误

### ❌ 错误：硬编码字体大小

```typescript
// ❌ 硬编码
series: [{
  label: { fontSize: 11 }
}]

// ✅ 使用常量
import { FONT_SIZE } from '@/lib/typography';
series: [{
  label: { fontSize: FONT_SIZE.xs }
}]
```

### ❌ 错误：在JSX中使用内联样式

```tsx
// ❌ 内联样式
<div style={{ fontSize: 12 }}>文字</div>

// ✅ Tailwind类或语义化类
<div className="text-sm">文字</div>
<div className="text-chart-axis">文字</div>
```

### ❌ 错误：混淆使用场景

```typescript
// ❌ 在图表配置中使用Tailwind类（ECharts不识别）
const option = {
  xAxis: { axisLabel: { className: 'text-sm' } }
};

// ✅ 在图表配置中使用常量
import { FONT_SIZE } from '@/lib/typography';
const option = {
  xAxis: { axisLabel: { fontSize: FONT_SIZE.sm } }
};
```

## 🔧 验证工具

### 开发环境自动验证

在开发环境中，`typography.ts` 会在页面加载时自动验证常量与CSS变量的一致性。

控制台输出：
- ✅ `字体大小常量验证通过` - 一致
- ❌ `字体大小验证失败` - 不一致（会显示具体差异）

### 手动验证

```typescript
import { validateFontSizes } from '@/lib/typography';

// 在代码中手动验证
try {
  validateFontSizes();
  console.log('验证通过');
} catch (error) {
  console.error('验证失败:', error);
}
```

## 📚 相关文件

- **常量定义**: `src/lib/typography.ts`
- **语义化类**: `src/styles/typography.css`
- **CSS变量**: `src/app/globals.css` (行147-166)
- **设计规范**: `docs/design/全局设计规范.md`

## 💡 最佳实践

1. **JSX组件优先使用Tailwind类**
   - 简洁、可读、易于维护
   - 与项目其他样式保持一致

2. **ECharts配置必须使用常量**
   - 类型安全
   - 避免拼写错误
   - 便于全局调整

3. **常见场景使用语义化类**
   - 提高代码可读性
   - 明确语义意图
   - 统一UI风格

4. **开发时关注验证输出**
   - 及时发现不一致
   - 确保CSS和TS常量同步

---

**维护者**: 开发团队
**最后更新**: 2025-12-27
