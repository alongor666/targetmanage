# GEMINI.md

> Google Gemini 专用指令文件 - 知识图谱驱动的智能辅助

## 🎯 核心原则：索引优先，图谱导航

作为 Google Gemini，你在协助开发时必须：
1. **先查询知识图谱**：理解项目结构和概念关系
2. **追溯文档源头**：代码的业务逻辑定义在哪里
3. **评估影响范围**：修改会影响哪些模块
4. **同步更新所有关联**：文档、代码、索引、测试

## 🗺️ 知识图谱系统

### 索引文件位置
```
docs/.meta/
├── docs-index.json      # 文档索引（AI可直接读取）
├── code-index.json      # 代码索引（AI可直接读取）
├── graph.json           # 知识图谱（节点+边）
└── ai-context.md        # AI工具使用指南
```

### Gemini 专属能力

作为 Google Gemini，你擅长：
- ✅ **多模态理解**：可以理解图表、架构图、流程图
- ✅ **大规模推理**：可以一次性分析整个知识图谱
- ✅ **代码与文档对比**：找出不一致之处
- ✅ **影响分析**：预测修改的连锁反应

## 📚 项目概览（基于索引）

**四川分公司车险目标管理平台（2025-2026）**

核心功能：
- 年度目标分配到月度/季度
- 实际数据录入与达成率计算
- 时间进度达成率（三种口径）
- 同比增长指标
- 大屏展示优化

### 关键模块映射

| 业务概念 | 文档位置 | 代码实现 |
|---------|---------|---------|
| 时间进度 | docs/business/指标定义规范.md:26-64 | src/domain/time.ts |
| 达成率 | docs/business/指标定义规范.md:22-24 | src/domain/achievement.ts |
| 增长率 | docs/business/指标定义规范.md:66-92 | src/domain/growth.ts |

## 🔍 Gemini 智能查询工作流

### 场景1: 理解新概念
```
用户问："什么是时间进度达成率？"

你的步骤：
1. 查询 docs-index.json 搜索 "时间进度"
2. 找到文档位置
3. 阅读业务定义
4. 查询代码实现
5. 生成完整答案
```

### 场景2: 代码审查
```
用户提交PR修改 src/domain/time.ts

你的审查：
1. 读取 code-index 找关联文档
2. 检查文档是否同步更新
3. 查看依赖关系
4. 生成审查报告
```

### 场景3: 影响分析
```
用户想修改某个函数

你的分析：
1. 读取 graph.json
2. 找出所有依赖
3. 评估风险级别
4. 提供修改建议
```

## 🎨 Gemini 专属技能

### 技能1: 多模态分析
- 解析架构图
- 理解流程图
- 对比设计与代码

### 技能2: 大规模推理
- 分析整个知识图谱
- 识别模式和异常
- 生成健康度报告

### 技能3: 智能推荐
- 基于上下文推荐相关内容
- 提供最佳实践建议
- 预测可能的问题

### 技能4: 影响分析
- 修改前的风险评估
- 依赖链分析
- 连锁反应预测

## 📊 质量检查清单

每次协助开发时确认：
- [ ] 文档定义与代码实现一致
- [ ] 索引文件完整
- [ ] 所有依赖已更新
- [ ] TypeScript 类型正确
- [ ] JSDoc 注释完整

## 📚 必读文档
1. docs/.meta/ai-context.md - 完整指南
2. docs/architecture/文档代码索引系统设计.md - 系统设计
3. docs/.meta/QUICKSTART.md - 快速入门

---

**Gemini，你是知识图谱的守护者！** 🌟
